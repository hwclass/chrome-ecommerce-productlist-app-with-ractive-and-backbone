(function(e){"use strict";var t=e.Ractive;var n=undefined;var r=function(){var e,t;e={el:null,template:"",complete:null,preserveWhitespace:false,append:false,twoway:true,modifyArrays:true,lazy:false,debug:false,noIntro:false,transitionsEnabled:true,magic:false,noCssTransform:false,adapt:[],sanitize:false,stripComments:true,isolated:false,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],computed:null};t={keys:Object.keys(e),defaults:e};return t}(n);var i=function(){if(typeof document==="undefined"){return}return document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}();var s={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};var o=function(e,t){if(!e){return function(e,n){if(n&&n!==t.html){throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information"}return document.createElement(e)}}else{return function(e,n){if(!n||n===t.html){return document.createElement(e)}return document.createElementNS(n,e)}}}(i,s);var u=typeof document==="object";var a=function(e){try{Object.defineProperty({},"test",{value:0});if(e){Object.defineProperty(document.createElement("div"),"test",{value:0})}return Object.defineProperty}catch(t){return function(e,t,n){e[t]=n.value}}}(u);var f=function(e,t,n){try{try{Object.defineProperties({},{test:{value:0}})}catch(r){throw r}if(n){Object.defineProperties(e("div"),{test:{value:0}})}return Object.defineProperties}catch(r){return function(e,n){var r;for(r in n){if(n.hasOwnProperty(r)){t(e,r,n[r])}}}}}(o,a,u);var l=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};var c=function(e){return function(t,n,r){var i;if(typeof n!=="string"||!e(r)){throw new Error("Bad arguments")}i=+t.get(n)||0;if(!e(i)){throw new Error("Cannot add to a non-numeric value")}return t.set(n,i+r)}}(l);var h=function(e){return function(t,n){return e(this,t,n===undefined?1:+n)}}(c);var p=function(e,t){if(e===null&&t===null){return true}if(typeof e==="object"||typeof t==="object"){return false}return e===t};var d=function(){function i(e){setTimeout(e,0)}function s(e,t){return function(){var n;while(n=e.shift()){n(t)}}}function o(t,n,r,i){var s;if(n===t){throw new TypeError("A promise's fulfillment handler cannot return the same promise")}if(n instanceof e){n.then(r,i)}else if(n&&(typeof n==="object"||typeof n==="function")){try{s=n.then}catch(u){i(u);return}if(typeof s==="function"){var a,f,l;f=function(e){if(a){return}a=true;o(t,e,r,i)};l=function(e){if(a){return}a=true;i(e)};try{s.call(n,f,l)}catch(u){if(!a){i(u);a=true;return}}}else{r(n)}}else{r(n)}}var e,t={},n={},r={};e=function(u){var a=[],f=[],l=t,c,h,p,d,v,m;p=function(e){return function(r){if(l!==t){return}c=r;l=e;h=s(l===n?a:f,c);i(h)}};d=p(n);v=p(r);u(d,v);m={then:function(n,r){var s=new e(function(e,u){var c=function(t,n,r){if(typeof t==="function"){n.push(function(n){var r;try{r=t(n);o(s,r,e,u)}catch(i){u(i)}})}else{n.push(r)}};c(n,a,e);c(r,f,u);if(l!==t){i(h)}});return s}};m["catch"]=function(e){return this.then(null,e)};return m};e.all=function(t){return new e(function(e,n){var r=[],i,s,o;if(!t.length){e(r);return}o=function(s){t[s].then(function(t){r[s]=t;if(!--i){e(r)}},n)};i=s=t.length;while(s--){o(s)}})};e.resolve=function(t){return new e(function(e){e(t)})};e.reject=function(t){return new e(function(e,n){n(t)})};return e}();var v=function(){var e=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(n){return(n||"").replace(e,".$1")}}();var m=["o","ms","moz","webkit"];var g=function(e){if(typeof window==="undefined"){return}(function(e,t,n){var r,i;if(n.requestAnimationFrame){return}for(r=0;r<e.length&&!n.requestAnimationFrame;++r){n.requestAnimationFrame=n[e[r]+"RequestAnimationFrame"]}if(!n.requestAnimationFrame){i=n.setTimeout;n.requestAnimationFrame=function(e){var n,r,s;n=Date.now();r=Math.max(0,16-(n-t));s=i(function(){e(n+r)},r);t=n+r;return s}}})(e,0,window);return window.requestAnimationFrame}(m);var y=function(){if(typeof window!=="undefined"&&window.performance&&typeof window.performance.now==="function"){return function(){return window.performance.now()}}else{return function(){return Date.now()}}}();var b=[];var w=function(e,t){var n=e.indexOf(t);if(n!==-1){e.splice(n,1)}};var E=function(e,t,n){var r,i,s,o,u,a="/* Ractive.js component styles */\n",f={},l=[];if(!t){return}e.push(function(){r=e.runloop});i=document.createElement("style");i.type="text/css";s=document.getElementsByTagName("head")[0];u=false;o=i.styleSheet;return{add:function(e){if(!e.css){return}if(!f[e._guid]){f[e._guid]=0;l.push(e.css);r.scheduleCssUpdate()}f[e._guid]+=1},remove:function(e){if(!e.css){return}f[e._guid]-=1;if(!f[e._guid]){n(l,e.css);r.scheduleCssUpdate()}},update:function(){var e;if(l.length){e=a+l.join(" ");if(o){o.cssText=e}else{i.innerHTML=e}if(!u){s.appendChild(i)}}else if(u){s.removeChild(i)}}}}(b,u,w);var S=function(e,t){var n,r,i,s,o,u;n=[];u=e._rendering?e.fragment.docFrag:e.el;r=u.querySelectorAll('input[type="checkbox"][name="{{'+t+'}}"]');s=r.length;for(o=0;o<s;o+=1){i=r[o];if(i.hasAttribute("checked")||i.checked){n.push(i._ractive.value)}}return n};var x=Object.prototype.hasOwnProperty;var T=function(e){do{if(e.context){return e.context}}while(e=e.parent);return""};var N=function(e,t,n,r){var i,s='Could not resolve reference - too many "../" prefixes';e.push(function(){i=e.get});return function(o,u,a){var f,l,c,h,p,d,v,m,g;u=t(u);if(u==="."){return r(a)}if(u.charAt(0)==="."){f=r(a);l=f?f.split("."):[];if(u.substr(0,3)==="../"){while(u.substr(0,3)==="../"){if(!l.length){throw new Error(s)}l.pop();u=u.substring(3)}l.push(u);return l.join(".")}if(!f){return u.substring(1)}return f+u}c=u.split(".");h=c.pop();p=c.length?"."+c.join("."):"";do{f=a.context;if(!f){continue}g=true;d=f+p;v=i(o,d);if(m=o._wrapped[d]){v=m.get()}if(v&&(typeof v==="object"||typeof v==="function")&&h in v){return f+"."+u}}while(a=a.parent);if(!g&&(!o._parent||o.isolated)){return u}if(n.call(o.data,u)){return u}else if(i(o,u)!==undefined){return u}}}(b,v,x,T);var C=function(t){var n=[""],r,i,s,o;r=t.length;while(r--){i=t[r];s=i.split(".");while(s.length>1){s.pop();o=s.join(".");if(n[o]!==true){n.push(o);n[o]=true}}}return n};var k=function(){function n(e,t,n){var i;if(e._patternObservers.length){o(e,t,t,n,true)}for(i=0;i<e._deps.length;i+=1){r(e,t,i,n)}}function r(e,t,n,r){var o=e._deps[n];if(!o){return}i(o[t]);if(r){return}s(e._depsMap[t],e,n)}function i(e){var t,n;if(e){n=e.length;for(t=0;t<n;t+=1){e[t].update()}}}function s(e,t,n,i){var s;if(e){s=e.length;while(s--){r(t,e[s],n,i)}}}function o(t,n,r,i,s){var a,f,l,c,h,p,d,v;a=t._patternObservers.length;while(a--){f=t._patternObservers[a];if(f.regex.test(r)){f.update(r)}}if(i){return}v=function(n){if(l=t._depsMap[n]){a=l.length;while(a--){c=l[a];h=e.exec(c)[0];p=r?r+"."+h:h;o(t,c,p)}}};if(s){d=u(r);d.forEach(v)}else{v(n)}}function u(e){var t,n,r,i,s,o;t=e.split(".");n=a(t.length);s=[];r=function(e,n){return e?"*":t[n]};i=n.length;while(i--){o=n[i].map(r).join(".");if(!s[o]){s.push(o);s[o]=true}}return s}function a(e){var n="",r,i,s,o,u;if(!t[e]){s=[];while(n.length<e){n+=1}r=parseInt(n,2);o=function(e){return e==="1"};for(u=0;u<=r;u+=1){i=u.toString(2);while(i.length<e){i="0"+i}s[u]=Array.prototype.map.call(i,o)}t[e]=s}return t[e]}var e,t={};e=/[^\.]+$/;n.multiple=function(t,n,i){var s,u,a;a=n.length;if(t._patternObservers.length){s=a;while(s--){o(t,n[s],n[s],i,true)}}for(s=0;s<t._deps.length;s+=1){if(t._deps[s]){u=a;while(u--){r(t,n[u],s,i)}}}};return n}();var L=function(e){var t,n,r,i;t=function(e,t){var s=[];s.detachQueue=[];s.remove=r;s.init=i;s._check=n;s._callback=e;s._previous=t;if(t){t.push(s)}return s};n=function(){var e;if(this._ready&&!this.length){while(e=this.detachQueue.pop()){e.detach()}if(typeof this._callback==="function"){this._callback()}if(this._previous){this._previous.remove(this)}}};r=function(t){e(this,t);this._check()};i=function(){this._ready=true;this._check()};return t}(w);var A=function(e,t,n,r,i,s,o,u){function M(){var e,n,r;if(v){v.focus();v=null}while(e=w.pop()){e.update().deferred=false}while(e=m.pop()){e._sort()}while(e=g.pop()){e.init()}while(e=y.pop()){e.init()}while(e=b.pop()){e.update()}while(e=E.pop()){e.active=false}while(e=A.pop()){A[e._guid]=false;if(e._changes.length){r={};while(n=e._changes.pop()){r[n]=f(e,n)}e.fire("change",r)}}if(p){t.update();p=false}}function _(){var e,t,n;n=A.length;while(n--){e=A[n];if(e._changes.length){t=s(e._changes);o.multiple(e,t,true)}}D();while(c){c=false;while(e=x.pop()){e.update()}while(e=S.pop()){e.update().deferred=false}while(e=T.pop()){e.deferredUpdate()}while(e=C.pop()){l(e.root,e.keypath,r(e.root,e.keypath))}while(e=k.pop()){e.update()}}}function D(){var e,t,n;if(!L.length){return}e=L.splice(0,L.length);while(t=e.pop()){if(t.keypath){continue}n=i(t.root,t.ref,t.parentFragment);if(n!==undefined){t.resolve(n)}else{L.push(t)}}}e.push(function(){f=e.get;l=e.set});var a,f,l,c=false,h=false,p,d=0,v=null,m=[],g=[],y=[],b=[],w=[],E=[],S=[],x=[],T=[],N={},C=[],k=[],L=[],A=[],O;a={start:function(e,t){this.addInstance(e);if(!h){d+=1;O=u(t,O)}},end:function(){if(h){D();return}if(!--d){h=true;_();h=false;M()}O.init();O=O._previous},trigger:function(){if(d||h){D();return}h=true;_();h=false;M()},focus:function(e){v=e},addInstance:function(e){if(e&&!A[e._guid]){A.push(e);A[A._guid]=true}},addLiveQuery:function(e){m.push(e)},addDecorator:function(e){g.push(e)},addTransition:function(e){e._manager=O;O.push(e);y.push(e)},addObserver:function(e){b.push(e)},addAttribute:function(e){w.push(e)},addBinding:function(e){e.active=true;E.push(e)},scheduleCssUpdate:function(){if(!d&&!h){t.update()}else{p=true}},addEvaluator:function(e){c=true;S.push(e)},addComputation:function(e){c=true;x.push(e)},addSelectValue:function(e){c=true;T.push(e)},addCheckbox:function(e){if(!N[e.keypath]){c=true;C.push(e)}},addRadio:function(e){c=true;k.push(e)},addUnresolved:function(e){c=true;L.push(e)},removeUnresolved:function(e){n(L,e)},detachWhenReady:function(e){O.detachQueue.push(e)}};e.runloop=a;return a}(b,E,w,S,N,C,k,L);var O=function(e,t,n){var r=[];var i={tick:function(){var s,o,u;u=t();n.start();for(s=0;s<r.length;s+=1){o=r[s];if(!o.tick(u)){r.splice(s--,1)}}n.end();if(r.length){e(i.tick)}else{i.running=false}},add:function(t){r.push(t);if(!i.running){i.running=true;e(i.tick)}},abort:function(e,t){var n=r.length,i;while(n--){i=r[n];if(i.root===t&&i.keypath===e){i.stop()}}}};return i}(g,y,A);var M=function(){var e=Object.prototype.toString;return function(t){return e.call(t)==="[object Array]"}}();var _=function(e){return function(t){var n,r;if(!t||typeof t!=="object"){return t}if(e(t)){return t.slice()}n={};for(r in t){if(t.hasOwnProperty(r)){n[r]=t[r]}}return n}}(M);var D={};var P=function(e,t,n){switch(t){case"splice":return n;case"sort":case"reverse":return null;case"pop":if(e.length){return[-1]}return null;case"push":return[e.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}};var H=function(e,t){var n,r,i,s;if(!t){return null}n=+(t[0]<0?e.length+t[0]:t[0]);r=Math.max(0,t.length-2);i=t[1]!==undefined?t[1]:e.length-n;i=Math.min(i,e.length-n);s=r-i;return{start:n,balance:s,added:r,removed:i}};var B={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40};var j=function hs(e,t,n){var r,i;if(!n){if(i=e._wrapped[t]){if(i.teardown()!==false){e._wrapped[t]=null}}}e._cache[t]=undefined;if(r=e._cacheMap[t]){while(r.length){hs(e,r.pop())}}};var F=function(){var e=/^\s*[0-9]+\s*$/;return function(t){return e.test(t)?[]:{}}}();var I=function(e,t,n,r,i){function o(e,u,a,f){var l,c,h,p,d,v,m,g;if(t(e._cache[u],a)){return}d=e._computations[u];v=e._wrapped[u];m=e._evaluators[u];if(d&&!d.setting){d.set(a)}if(v&&v.reset){g=v.reset(a)!==false;if(g){a=v.get()}}if(m){m.value=a}if(!d&&!m&&!g){l=u.split(".");c=l.pop();h=l.join(".");v=e._wrapped[h];if(v&&v.set){v.set(c,a)}else{p=v?v.get():s(e,h);if(!p){p=n(c);o(e,h,p,true)}p[c]=a}}r(e,u,g);if(!f){e._changes.push(u);i(e,u)}}var s;e.push(function(){s=e.get});e.set=o;return o}(b,p,F,j,k);var q=function(e,t,n,r){return function(i,s,o,u){var a,f,l,c,h,p,d,v,m,g;a=i.root;f=i.keypath;a._changes.push(f);if(o==="sort"||o==="reverse"){r(a,f,s);return}if(!u){return}l=!u.balance?u.added:s.length-Math.min(u.balance,0);for(h=u.start;h<l;h+=1){t(a,f+"."+h)}c=function(t){if(t.keypath===f&&t.type===e.SECTION&&!t.inverted&&t.docFrag){t.splice(u)}else{t.update()}};a._deps.forEach(function(e){var t=e[f];if(t){t.forEach(c)}});if(u.added&&u.removed){p=Math.max(u.added,u.removed);d=u.start;v=d+p;g=u.added===u.removed;for(h=d;h<v;h+=1){m=f+"."+h;n(a,m)}}if(!g){t(a,f+".length");n(a,f+".length",true)}}}(B,j,k,I);var R=function(e,t,n,r,i){var s=[],o=["pop","push","reverse","shift","sort","splice","unshift"],u,a,f;o.forEach(function(o){var u=function(){var t,s,u,a,f;t=n(this,o,Array.prototype.slice.call(arguments));s=r(this,t);u=Array.prototype[o].apply(this,arguments);this._ractive.setting=true;f=this._ractive.wrappers.length;while(f--){a=this._ractive.wrappers[f];e.start(a.root);i(a,this,o,s);e.end()}this._ractive.setting=false;return u};t(s,o,{value:u})});u={};if(u.__proto__){a=function(e){e.__proto__=s};f=function(e){e.__proto__=Array.prototype}}else{a=function(e){var n,r;n=o.length;while(n--){r=o[n];t(e,r,{value:s[r],configurable:true})}};f=function(e){var t;t=o.length;while(t--){delete e[o[t]]}}}a.unpatch=f;return a}(A,a,P,H,q);var U=function(e,t,n){var r,i,s;r={filter:function(e){return t(e)&&(!e._ractive||!e._ractive.setting)},wrap:function(e,t,n){return new i(e,t,n)}};i=function(t,r,i){this.root=t;this.value=r;this.keypath=i;if(!r._ractive){e(r,"_ractive",{value:{wrappers:[],instances:[],setting:false},configurable:true});n(r)}if(!r._ractive.instances[t._guid]){r._ractive.instances[t._guid]=0;r._ractive.instances.push(t)}r._ractive.instances[t._guid]+=1;r._ractive.wrappers.push(this)};i.prototype={get:function(){return this.value},teardown:function(){var e,t,r,i,o;e=this.value;t=e._ractive;r=t.wrappers;i=t.instances;if(t.setting){return false}o=r.indexOf(this);if(o===-1){throw new Error(s)}r.splice(o,1);if(!r.length){delete e._ractive;n.unpatch(this.value)}else{i[this.root._guid]-=1;if(!i[this.root._guid]){o=i.indexOf(this.root);if(o===-1){throw new Error(s)}i.splice(o,1)}}}};s="Something went wrong in a rather interesting way";return r}(a,M,R);var z=function(e,t,n,r,i){function a(t,n,s){function h(t){var s,o;t.value=n;if(t.updating){return}o=t.ractive;s=t.keypath;t.updating=true;e.start(o);o._changes.push(s);r(o,s);i(o,s);e.end();t.updating=false}var o,u,a,f,l,c;o=t.obj;u=t.prop;if(s&&!s.configurable){if(u==="length"){return}throw new Error('Cannot use magic mode with property "'+u+'" - object is not configurable')}if(s){a=s.get;f=s.set}l=a||function(){return n};c=function(e){if(f){f(e)}n=a?a():e;c._ractiveWrappers.forEach(h)};c._ractiveWrappers=[t];Object.defineProperty(o,u,{get:l,set:c,enumerable:true,configurable:true})}var s,o;try{Object.defineProperty({},"test",{value:0})}catch(u){return false}s={filter:function(e,t,r){var i,s,o,u,a;if(!t){return false}i=t.split(".");s=i.pop();o=i.join(".");if((u=r._wrapped[o])&&!u.magic){return false}a=r.get(o);if(n(a)&&/^[0-9]+$/.test(s)){return false}return a&&(typeof a==="object"||typeof a==="function")},wrap:function(e,t,n){return new o(e,t,n)}};o=function(e,t,n){var r,i,s,o;this.magic=true;this.ractive=e;this.keypath=n;this.value=t;r=n.split(".");this.prop=r.pop();i=r.join(".");this.obj=i?e.get(i):e.data;s=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop);if(s&&s.set&&(o=s.set._ractiveWrappers)){if(o.indexOf(this)===-1){o.push(this)}return}a(this,t,s)};o.prototype={get:function(){return this.value},reset:function(e){if(this.updating){return}this.updating=true;this.obj[this.prop]=e;r(this.ractive,this.keypath);this.updating=false},set:function(e,n){if(this.updating){return}if(!this.obj[this.prop]){this.updating=true;this.obj[this.prop]=t(e);this.updating=false}this.obj[this.prop][e]=n},teardown:function(){var e,t,n,r,i;if(this.updating){return false}e=Object.getOwnPropertyDescriptor(this.obj,this.prop);t=e&&e.set;if(!t){return}r=t._ractiveWrappers;i=r.indexOf(this);if(i!==-1){r.splice(i,1)}if(!r.length){n=this.obj[this.prop];Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:true,enumerable:true,configurable:true});this.obj[this.prop]=n}}};return s}(A,F,M,j,k);var W=function(e,t){if(!e){return false}var n,r;n={filter:function(n,r,i){return e.filter(n,r,i)&&t.filter(n)},wrap:function(e,t,n){return new r(e,t,n)}};r=function(n,r,i){this.value=r;this.magic=true;this.magicWrapper=e.wrap(n,r,i);this.arrayWrapper=t.wrap(n,r,i)};r.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown();this.magicWrapper.teardown()},reset:function(e){return this.magicWrapper.reset(e)}};return n}(z,U);var X=function(e,t,n,r){function s(e,t){var n={},r;if(!t){return e}t+=".";for(r in e){if(e.hasOwnProperty(r)){n[t+r]=e[r]}}return n}function o(e){var t;if(!i[e]){t=e?e+".":"";i[e]=function(n,r){var i;if(typeof n==="string"){i={};i[t+n]=r;return i}if(typeof n==="object"){return t?s(n,e):n}}}return i[e]}var i={};return function(s,u,a,f){var l,c,h,p;l=s.adapt.length;for(c=0;c<l;c+=1){h=s.adapt[c];if(typeof h==="string"){if(!e[h]){throw new Error('Missing adaptor "'+h+'"')}h=s.adapt[c]=e[h]}if(h.filter(a,u,s)){p=s._wrapped[u]=h.wrap(s,a,u,o(u));p.value=a;return a}}if(!f){if(s.magic){if(r.filter(a,u,s)){s._wrapped[u]=r.wrap(s,a,u)}else if(n.filter(a,u,s)){s._wrapped[u]=n.wrap(s,a,u)}}else if(s.modifyArrays&&t.filter(a,u,s)){s._wrapped[u]=t.wrap(s,a,u)}}return a}}(D,U,z,W);var V=function(){function e(e,t){var n,r,i;n=t.split(".");while(n.length){n.pop();r=n.join(".");i=e._depsMap[r]||(e._depsMap[r]=[]);if(i[t]===undefined){i[t]=0;i[i.length]=t}i[t]+=1;t=r}}return function(n){var r,i,s,o,u;s=n.root;o=n.keypath;u=n.priority;r=s._deps[u]||(s._deps[u]={});i=r[o]||(r[o]=[]);i.push(n);n.registered=true;if(!o){return}e(s,o)}}();var $=function(){function e(e,t){var n,r,i;n=t.split(".");while(n.length){n.pop();r=n.join(".");i=e._depsMap[r];i[t]-=1;if(!i[t]){i.splice(i.indexOf(t),1);i[t]=undefined}t=r}}return function(n){var r,i,s,o,u;s=n.root;o=n.keypath;u=n.priority;r=s._deps[u][o];i=r.indexOf(n);if(i===-1||!n.registered){throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks")}r.splice(i,1);n.registered=false;if(!o){return}e(s,o)}}();var J=function(e,t,n,r,i,s){var o,u;e.push(function(){o=e.get;u=e.set});var a=function(e,t,n,r,s){this.root=e;this.keypath=t;this.priority=s;this.otherInstance=n;this.otherKeypath=r;i(this);this.value=o(this.root,this.keypath)};a.prototype={update:function(){var e;if(this.updating||this.counterpart&&this.counterpart.updating){return}e=o(this.root,this.keypath);if(n(e)&&e._ractive&&e._ractive.setting){return}if(!r(e,this.value)){this.updating=true;t.addInstance(this.otherInstance);u(this.otherInstance,this.otherKeypath,e);this.value=e;this.updating=false}},reassign:function(e){s(this);s(this.counterpart);this.keypath=e;this.counterpart.otherKeypath=e;i(this);i(this.counterpart)},teardown:function(){s(this)}};return function(t,n,r,i){var s,o,u,f,l,c;s=r+"="+i;u=t.bindings;if(u[s]){return}u[s]=true;o=t.instance;f=t.parentFragment.priority;l=new a(n,r,o,i,f);u.push(l);if(o.twoway){c=new a(o,i,n,r,1);u.push(c);l.counterpart=c;c.counterpart=l}}}(b,A,M,p,V,$);var K=function(e,t,n){function i(e,r,i,s,o){n(r,s,o,true);t(r.component,e,i,s)}var r;e.push(function(){r=e.get});return function(t,n){var s,o,u,a,f;s=t._parent;o=t.component.parentFragment;if(o.indexRefs&&(f=o.indexRefs[n])!==undefined){t.component.indexRefBindings[n]=n;return f}do{if(!o.context){continue}u=o.context+"."+n;a=r(s,u);if(a!==undefined){i(s,t,u,n,a);return a}}while(o=o.parent);a=r(s,n);if(a!==undefined){i(s,t,n,n,a);return a}}}(b,J,I);var Q={FAILED_LOOKUP:true};var G=function(e,t,n,r,i,s){function o(e,t,n){var o=e._cache,a,f,l,c;if(o[t]===undefined){if(f=e._computations[t]){a=f.value}else if(l=e._wrapped[t]){a=l.value}else if(!t){r(e,"",e.data);a=e.data}else if(c=e._evaluators[t]){a=c.value}else{a=u(e,t)}o[t]=a}else{a=o[t]}if(a===s){if(e._parent&&!e.isolated){a=i(e,t,n)}else{a=undefined}}if(n&&n.evaluateWrapped&&(l=e._wrapped[t])){a=l.get()}return a}function u(e,i){var u,a,f,l,c,h,p,d;u=i.split(".");a=u.pop();f=u.join(".");l=o(e,f);if(p=e._wrapped[f]){l=p.get()}if(l===null||l===undefined){return}if(!(c=e._cacheMap[f])){e._cacheMap[f]=[i]}else{if(c.indexOf(i)===-1){c.push(i)}}if(typeof l==="object"&&!(a in l)){return e._cache[i]=s}d=!t.call(l,a);h=d?n(l[a]):l[a];h=r(e,i,h,false);e._cache[i]=h;return h}e.get=o;return o}(b,x,_,X,K,Q);var Y=function(){if(typeof console!=="undefined"&&typeof console.warn==="function"&&typeof console.warn.apply==="function"){return function(){console.warn.apply(console,arguments)}}return function(){}}();var Z=function(){var e=Object.prototype.toString;return function(t){return typeof t==="object"&&e.call(t)==="[object Object]"}}();var et=function(e,t,n,r,i){var s,o,u;e.push(function(){o=e.interpolate});u=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/;s={number:function(e,t){var n;if(!i(e)||!i(t)){return null}e=+e;t=+t;n=t-e;if(!n){return function(){return e}}return function(t){return e+t*n}},array:function(e,t){var r,i,s,u;if(!n(e)||!n(t)){return null}r=[];i=[];u=s=Math.min(e.length,t.length);while(u--){i[u]=o(e[u],t[u])}for(u=s;u<e.length;u+=1){r[u]=e[u]}for(u=s;u<t.length;u+=1){r[u]=t[u]}return function(e){var t=s;while(t--){r[t]=i[t](e)}return r}},object:function(e,n){var i,s,u,a,f;if(!r(e)||!r(n)){return null}i=[];a={};u={};for(f in e){if(t.call(e,f)){if(t.call(n,f)){i.push(f);u[f]=o(e[f],n[f])}else{a[f]=e[f]}}}for(f in n){if(t.call(n,f)&&!t.call(e,f)){a[f]=n[f]}}s=i.length;return function(e){var t=s,n;while(t--){n=i[t];a[n]=u[n](e)}return a}},cssLength:function(e,t){var n,r,i,s,o,a,f,l;if(e!==0&&typeof e!=="string"||t!==0&&typeof t!=="string"){return null}n=u.exec(e);r=u.exec(t);i=n?n[2]:"";s=r?r[2]:"";if(i&&s&&i!==s){return null}f=i||s;o=n?+n[1]:0;a=r?+r[1]:0;l=a-o;if(!l){return function(){return o+f}}return function(e){return o+e*l+f}}};return s}(b,x,M,Z,l);var tt=function(e,t,n){function i(e){return function(){return e}}var r=function(e,r,s,o){if(e===r){return i(r)}if(o){if(s.interpolators[o]){return s.interpolators[o](e,r)||i(r)}t('Missing "'+o+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(e,r)||n.array(e,r)||n.object(e,r)||n.cssLength(e,r)||i(r)};e.interpolate=r;return r}(b,Y,et);var nt=function(e,t,n,r){var i=function(e){var t;this.startTime=Date.now();for(t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}this.interpolator=n(this.from,this.to,this.root,this.interpolator);this.running=true};i.prototype={tick:function(){var n,i,s,o,u,a;a=this.keypath;if(this.running){o=Date.now();n=o-this.startTime;if(n>=this.duration){if(a!==null){t.start(this.root);r(this.root,a,this.to);t.end()}if(this.step){this.step(1,this.to)}this.complete(this.to);u=this.root._animations.indexOf(this);if(u===-1){e("Animation was not found")}this.root._animations.splice(u,1);this.running=false;return false}i=this.easing?this.easing(n/this.duration):n/this.duration;if(a!==null){s=this.interpolator(i);t.start(this.root);r(this.root,a,s);t.end()}if(this.step){this.step(i,s)}return true}return false},stop:function(){var t;this.running=false;t=this.root._animations.indexOf(this);if(t===-1){e("Animation was not found")}this.root._animations.splice(t,1)}};return i}(Y,A,tt,I);var rt=function(e,t,n,r,i,s){function a(t,o,a,f){var l,c,h,p;if(o){o=n(o)}if(o!==null){p=i(t,o)}r.abort(o,t);if(e(p,a)){if(f.complete){f.complete(f.to)}return u}if(f.easing){if(typeof f.easing==="function"){l=f.easing}else{l=t.easing[f.easing]}if(typeof l!=="function"){l=null}}c=f.duration===undefined?400:f.duration;h=new s({keypath:o,from:p,to:a,root:t,duration:c,easing:l,interpolator:f.interpolator,step:f.step,complete:f.complete});r.add(h);t._animations.push(h);return h}var o=function(){},u={stop:o};return function(e,n,r){var i,s,u,f,l,c,h,p,d,v,m,g,y,b;i=new t(function(e){s=e});if(typeof e==="object"){r=n||{};c=r.easing;h=r.duration;l=[];p=r.step;d=r.complete;if(p||d){m={};r.step=null;r.complete=null;v=function(e){return function(t,n){m[e]=n}}}for(u in e){if(e.hasOwnProperty(u)){if(p||d){g=v(u);r={easing:c,duration:h};if(p){r.step=g}}r.complete=d?g:o;l.push(a(this,u,e[u],r))}}if(p||d){b={easing:c,duration:h};if(p){b.step=function(e){p(e,m)}}if(d){i.then(function(e){d(e,m)})}b.complete=s;y=a(this,null,null,b);l.push(y)}return{stop:function(){var e;while(e=l.pop()){e.stop()}if(y){y.stop()}}}}r=r||{};if(r.complete){i.then(r.complete)}r.complete=s;f=a(this,e,n,r);i.stop=function(){f.stop()};return i}}(p,d,v,O,G,nt);var it=function(){return this.fragment.detach()};var st=function(e){if(!this.el){return null}return this.fragment.find(e)};var ot=function(e,t,n){var r,i,s,o,u,a,f;if(!e){return}r=n("div");i=["matches","matchesSelector"];f=function(e){return function(t,n){return t[e](n)}};u=i.length;while(u--){s=i[u];if(r[s]){return f(s)}a=t.length;while(a--){o=t[u]+s.substr(0,1).toUpperCase()+s.substring(1);if(r[o]){return f(o)}}}return function(e,t){var n,r;n=(e.parentNode||e.document).querySelectorAll(t);r=n.length;while(r--){if(n[r]===e){return true}}return false}}(u,m,o);var ut=function(e){return function(t,n){var r=this._isComponentQuery?!this.selector||t.name===this.selector:e(t.node,this.selector);if(r){this.push(t.node||t.instance);if(!n){this._makeDirty()}return true}}}(ot);var at=function(){var e,t,n;e=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"];t=this.selector;n=e.indexOf(t);if(n!==-1){e.splice(n,1);e[t]=null}};var ft=function(){function e(e){var t;if(t=e.parentFragment){return t.owner}if(e.component&&(t=e.component.parentFragment)){return t.owner}}function t(t){var n,r;n=[t];r=e(t);while(r){n.push(r);r=e(r)}return n}return function(e,n){var r,i,s,o,u,a,f,l,c,h;r=t(e.component||e._ractive.proxy);i=t(n.component||n._ractive.proxy);s=r[r.length-1];o=i[i.length-1];while(s&&s===o){r.pop();i.pop();u=s;s=r[r.length-1];o=i[i.length-1]}s=s.component||s;o=o.component||o;c=s.parentFragment;h=o.parentFragment;if(c===h){a=c.items.indexOf(s);f=h.items.indexOf(o);return a-f||r.length-i.length}if(l=u.fragments){a=l.indexOf(c);f=l.indexOf(h);return a-f||r.length-i.length}throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}();var lt=function(e){return function(t,n){var r;if(t.compareDocumentPosition){r=t.compareDocumentPosition(n);return r&2?1:-1}return e(t,n)}}(ft);var ct=function(e,t){return function(){this.sort(this._isComponentQuery?t:e);this._dirty=false}}(lt,ft);var ht=function(e){return function(){if(!this._dirty){e.addLiveQuery(this);this._dirty=true}}}(A);var pt=function(e){var t=this.indexOf(this._isComponentQuery?e.instance:e);if(t!==-1){this.splice(t,1)}};var dt=function(e,t,n,r,i,s){return function(o,u,a,f){var l=[];e(l,{selector:{value:u},live:{value:a},_isComponentQuery:{value:f},_test:{value:t}});if(!a){return l}e(l,{cancel:{value:n},_root:{value:o},_sort:{value:r},_makeDirty:{value:i},_remove:{value:s},_dirty:{value:false,writable:true}});return l}}(f,ut,at,ct,ht,pt);var vt=function(e){return function(t,n){var r,i;if(!this.el){return[]}n=n||{};r=this._liveQueries;if(i=r[t]){return n&&n.live?i:i.slice()}i=e(this,t,!!n.live,false);if(i.live){r.push(t);r[t]=i}this.fragment.findAll(t,i);return i}}(dt);var mt=function(e){return function(t,n){var r,i;n=n||{};r=this._liveComponentQueries;if(i=r[t]){return n&&n.live?i:i.slice()}i=e(this,t,!!n.live,true);if(i.live){r.push(t);r[t]=i}this.fragment.findAllComponents(t,i);return i}}(dt);var gt=function(e){return this.fragment.findComponent(e)};var yt=function(e){var t,n,r,i=this._subs[e];if(!i){return}t=Array.prototype.slice.call(arguments,1);for(n=0,r=i.length;n<r;n+=1){i[n].apply(this,t)}};var bt=function(e,t,n,r){var i,s={};e.push(function(){i=e.get});var o=function(e,t){this.root=e;this.ref=t;this.parentFragment=s;e._unresolvedImplicitDependencies[t]=true;e._unresolvedImplicitDependencies.push(this);n.addUnresolved(this)};o.prototype={resolve:function(){var e=this.root;r(e,this.ref);e._unresolvedImplicitDependencies[this.ref]=false;t(e._unresolvedImplicitDependencies,this)},teardown:function(){n.removeUnresolved(this)}};return o}(b,w,A,k);var wt=function(e,t,n){var r={isTopLevel:true};return function(s){var o;s=e(s);o=t(this,s,r);if(this._captured&&this._captured[s]!==true){this._captured.push(s);this._captured[s]=true;if(o===undefined&&this._unresolvedImplicitDependencies[s]!==true){new n(this,s)}}return o}}(v,G,bt);var Et=function(e){var t;if(typeof window==="undefined"||!document||!e){return null}if(e.nodeType){return e}if(typeof e==="string"){t=document.getElementById(e);if(!t&&document.querySelector){t=document.querySelector(e)}if(t&&t.nodeType){return t}}if(e[0]&&e[0].nodeType){return e[0]}return null};var St=function(e){return function(t,n){t=e(t);n=e(n)||null;if(!t){throw new Error("You must specify a valid target to insert into")}t.insertBefore(this.detach(),n);this.fragment.pNode=this.el=t}}(Et);var xt=function(e,t){var n,r,i,s;n={};r=0;i=e.map(function(e,i){var o,u,a;u=r;a=t.length;do{o=t.indexOf(e,u);if(o===-1){s=true;return-1}u=o+1}while(n[o]&&u<a);if(o===r){r+=1}if(o!==i){s=true}n[o]=true;return o});i.unchanged=!s;return i};var Tt=function(e,t){return function(n,r,i,s){var o;n._changes.push(r);o=function(t){if(t.type===e.REFERENCE){t.update()}else if(t.keypath===r&&t.type===e.SECTION&&!t.inverted&&t.docFrag){t.merge(i)}else{t.update()}};n._deps.forEach(function(e){var t=e[r];if(t){t.forEach(o)}});if(!s){t(n,r+".length",true)}}}(B,k);var Nt=function(e,t,n,r,i,s,o){function a(e){return JSON.stringify(e)}function f(e){if(e===true){return a}if(typeof e==="string"){if(!u[e]){u[e]=function(t){return t[e]}}return u[e]}if(typeof e==="function"){return e}throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}var u={};return function(a,l,c){var h,p,d,v,m,g,y,b;h=this.get(a);if(!n(h)||!n(l)){return this.set(a,l,c&&c.complete)}m=h.length===l.length;if(c&&c.compare){v=f(c.compare);try{p=h.map(v);d=l.map(v)}catch(w){if(this.debug){throw w}else{t("Merge operation: comparison failed. Falling back to identity checking")}p=h;d=l}}else{p=h;d=l}g=s(p,d);y=new r(function(e){b=e});e.start(this,b);i(this,a,l,true);o(this,a,g,m);e.end();if(c&&c.complete){y.then(c.complete)}return y}}(A,Y,M,d,I,xt,Tt);var Ct=function(e,t,n){var r=function(e,t,n,r){var i=this;this.root=e;this.keypath=t;this.callback=n;this.defer=r.defer;this.debug=r.debug;this.proxy={update:function(){i.reallyUpdate()}};this.priority=0;this.context=r&&r.context?r.context:e};r.prototype={init:function(e){if(e!==false){this.update()}else{this.value=n(this.root,this.keypath)}},update:function(){if(this.defer&&this.ready){e.addObserver(this.proxy);return}this.reallyUpdate()},reallyUpdate:function(){var e,r;e=this.value;r=n(this.root,this.keypath);this.value=r;if(this.updating){return}this.updating=true;if(!t(r,e)||!this.ready){try{this.callback.call(this.context,r,e,this.keypath)}catch(i){if(this.debug||this.root.debug){throw i}}}this.updating=false}};return r}(A,p,G);var kt=function(e){return function(t,n){var r,i,s,o,u,a,f;r=n.split(".");o=[];a=function(n){var r,i;r=t._wrapped[n]?t._wrapped[n].get():t.get(n);for(i in r){if(r.hasOwnProperty(i)&&(i!=="_ractive"||!e(r))){u.push(n+"."+i)}}};f=function(e){return e+"."+i};while(i=r.shift()){if(i==="*"){u=[];o.forEach(a);o=u}else{if(!o[0]){o[0]=i}else{o=o.map(f)}}}s={};o.forEach(function(e){s[e]=t.get(e)});return s}}(M);var Lt=function(e,t,n,r){var i,s=/\*/;i=function(e,t,n,r){this.root=e;this.callback=n;this.defer=r.defer;this.debug=r.debug;this.keypath=t;this.regex=new RegExp("^"+t.replace(/\./g,"\\.").replace(/\*/g,"[^\\.]+")+"$");this.values={};if(this.defer){this.proxies=[]}this.priority="pattern";this.context=r&&r.context?r.context:e};i.prototype={init:function(e){var t,n;t=r(this.root,this.keypath);if(e!==false){for(n in t){if(t.hasOwnProperty(n)){this.update(n)}}}else{this.values=t}},update:function(t){var n;if(s.test(t)){n=r(this.root,t);for(t in n){if(n.hasOwnProperty(t)){this.update(t)}}return}if(this.defer&&this.ready){e.addObserver(this.getProxy(t));return}this.reallyUpdate(t)},reallyUpdate:function(e){var r=n(this.root,e);if(this.updating){this.values[e]=r;return}this.updating=true;if(!t(r,this.values[e])||!this.ready){try{this.callback.call(this.context,r,this.values[e],e)}catch(i){if(this.debug||this.root.debug){throw i}}this.values[e]=r}this.updating=false},getProxy:function(e){var t=this;if(!this.proxies[e]){this.proxies[e]={update:function(){t.reallyUpdate(e)}}}return this.proxies[e]}};return i}(A,p,G,kt);var At=function(e,t,n,r,i){var s=/\*/,o={};return function(a,f,l,c){var h,p;f=e(f);c=c||o;if(s.test(f)){h=new i(a,f,l,c);a._patternObservers.push(h);p=true}else{h=new r(a,f,l,c)}t(h);h.init(c.init);h.ready=true;return{cancel:function(){var e;if(p){e=a._patternObservers.indexOf(h);if(e!==-1){a._patternObservers.splice(e,1)}}n(h)}}}}(v,V,$,Ct,Lt);var Ot=function(e,t){return function(r,i,s){var o,u,a,f;if(e(r)){s=i;u=r;o=[];for(r in u){if(u.hasOwnProperty(r)){i=u[r];o.push(this.observe(r,i,s))}}return{cancel:function(){while(o.length){o.pop().cancel()}}}}if(typeof r==="function"){s=i;i=r;r="";return t(this,r,i,s)}a=r.split(" ");if(a.length===1){return t(this,r,i,s)}o=[];f=a.length;while(f--){r=a[f];if(r){o.push(t(this,r,i,s))}}return{cancel:function(){while(o.length){o.pop().cancel()}}}}}(Z,At);var Mt=function(e,t){var n,r;if(!t){if(!e){for(e in this._subs){delete this._subs[e]}}else{this._subs[e]=[]}}n=this._subs[e];if(n){r=n.indexOf(t);if(r!==-1){n.splice(r,1)}}};var _t=function(e,t){var n=this,r,i;if(typeof e==="object"){r=[];for(i in e){if(e.hasOwnProperty(i)){r.push(this.on(i,e[i]))}}return{cancel:function(){var e;while(e=r.pop()){e.cancel()}}}}if(!this._subs[e]){this._subs[e]=[t]}else{this._subs[e].push(t)}return{cancel:function(){n.off(e,t)}}};var Dt=function(){var e;try{Object.create(null);e=Object.create}catch(t){e=function(){var e=function(){};return function(t,n){var r;if(t===null){return{}}e.prototype=t;r=new e;if(n){Object.defineProperties(r,n)}return r}}()}return e}();var Pt=function(e,t){return function(r,i){var s,o,u,a,f;r.owner=i.owner;u=r.parent=r.owner.parentFragment;r.root=i.root;r.pNode=i.pNode;r.pElement=i.pElement;r.context=i.context;if(r.owner.type===e.SECTION){r.index=i.index}if(u){a=u.indexRefs;if(a){r.indexRefs=t(null);for(f in a){r.indexRefs[f]=a[f]}}}r.priority=u?u.priority+1:1;if(i.indexRef){if(!r.indexRefs){r.indexRefs={}}r.indexRefs[i.indexRef]=i.index}r.items=[];s=i.descriptor?i.descriptor.length:0;for(o=0;o<s;o+=1){r.items[r.items.length]=r.createItem({parentFragment:r,pElement:i.pElement,descriptor:i.descriptor[o],index:o})}}}(B,Dt);var Ht=function(t,n){return t.substr(0,n.length+1)===n+"."};var Bt=function(e){return function(n,r){return n===r||e(n,r)}}(Ht);var jt=function(e){return function(n,r,i){if(n===r){return i}if(e(n,r)){return n.replace(r+".",i+".")}}}(Ht);var Ft=function(e,t){return function(r,i,s,o){if(!r[i]||e(r[i],o)){return}r[i]=t(r[i],s,o)}}(Bt,jt);var It=function(e){return function(n,r,i,s){if(this.html!==undefined){return}e(this,"context",i,s);if(this.indexRefs&&this.indexRefs[n]!==undefined&&this.indexRefs[n]!==r){this.indexRefs[n]=r}this.items.forEach(function(e){e.reassign(n,r,i,s)})}}(Ft);var qt=function(e,t){return{init:e,reassign:t}}(Pt,It);var Rt=function(e,t){function o(e){return n[e]||(n[e]=t(e))}var n={},r,i;try{t("table").innerHTML="foo"}catch(s){r=true;i={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return function(t,n,s,u){var a,f=[],l;if(t){if(r&&(l=i[n])){a=o("DIV");a.innerHTML=l[0]+t+l[1];a=a.querySelector(".x")}else if(s===e.svg){a=o("DIV");a.innerHTML='<svg class="x">'+t+"</svg>";a=a.querySelector(".x")}else{a=o(n);a.innerHTML=t}while(a.firstChild){f.push(a.firstChild);u.appendChild(a.firstChild)}}return f}}(s,o);var Ut=function(){var e=this.node,t;if(e&&(t=e.parentNode)){t.removeChild(e);return e}};var zt=function(e,t){var n,r,i;r=/</g;i=/>/g;n=function(t,n){this.type=e.TEXT;this.descriptor=t.descriptor;if(n){this.node=document.createTextNode(t.descriptor);n.appendChild(this.node)}};n.prototype={detach:t,reassign:function(){},teardown:function(e){if(e){this.detach()}},firstNode:function(){return this.node},toString:function(){return(""+this.descriptor).replace(r,"&lt;").replace(i,"&gt;")}};return n}(B,Ut);var Wt=function(e,t){return function(n){if(!n.keypath){e.removeUnresolved(n)}else{t(n)}}}(A,$);var Xt=function(e){var t=function(t,n,r,i){this.root=t;this.ref=n;this.parentFragment=r;this.resolve=i;e.addUnresolved(this)};t.prototype={teardown:function(){e.removeUnresolved(this)}};return t}(A);var Vt=function(e,t,n,r,i){function u(e,t,r){var i,s,u;if(!o.test(e.toString())){n(e,"_nowrap",{value:true});return e}if(!e["_"+t._guid]){n(e,"_"+t._guid,{value:function(){var n,r,i,o;n=t._captured;if(!n){t._captured=[]}r=e.apply(t,arguments);if(t._captured.length){i=s.length;while(i--){o=s[i];o.updateSoftDependencies(t._captured)}}t._captured=n;return r},writable:true});for(i in e){if(e.hasOwnProperty(i)){e["_"+t._guid][i]=e[i]}}e["_"+t._guid+"_evaluators"]=[]}s=e["_"+t._guid+"_evaluators"];u=s.indexOf(r);if(u===-1){s.push(r)}return e["_"+t._guid]}var s,o;o=/this/;s=function(t,n,i,s,o){var a;this.evaluator=i;this.keypath=n;this.root=t;this.argNum=s;this.type=e.REFERENCE;this.priority=o;a=t.get(n);if(typeof a==="function"){a=u(a,t,i)}this.value=i.values[s]=a;r(this)};s.prototype={update:function(){var e=this.root.get(this.keypath);if(typeof e==="function"&&!e._nowrap){e=u(e,this.root,this.evaluator)}if(!t(e,this.value)){this.evaluator.values[this.argNum]=e;this.evaluator.bubble();this.value=e}},teardown:function(){i(this)}};return s}(B,p,a,V,$);var $t=function(e,t,n){var r=function(e,n,r){this.root=e;this.keypath=n;this.priority=r.priority;this.evaluator=r;t(this)};r.prototype={update:function(){var t=this.root.get(this.keypath);if(!e(t,this.value)){this.evaluator.bubble();this.value=t}},teardown:function(){n(this)}};return r}(p,V,$);var Jt=function(e,t,n,r,i,s,o,u){function l(e,t){var n,r;e=e.replace(/\$\{([0-9]+)\}/g,"_$1");if(f[e]){return f[e]}r=[];while(t--){r[t]="_"+t}n=new Function(r.join(","),"return("+e+")");f[e]=n;return n}var a,f={};a=function(e,t,n,r,i,s){var u=this;u.root=e;u.uniqueString=n;u.keypath=t;u.priority=s;u.fn=l(r,i.length);u.values=[];u.refs=[];i.forEach(function(t,n){if(!t){return}if(t.indexRef){u.values[n]=t.value}else{u.refs.push(new o(e,t.keypath,u,n,s))}});u.selfUpdating=u.refs.length<=1};a.prototype={bubble:function(){if(this.selfUpdating){this.update()}else if(!this.deferred){e.addEvaluator(this);this.deferred=true}},update:function(){var e;if(this.evaluating){return this}this.evaluating=true;try{e=this.fn.apply(null,this.values)}catch(o){if(this.root.debug){t('Error evaluating "'+this.uniqueString+'": '+o.message||o)}e=undefined}if(!n(e,this.value)){this.value=e;r(this.root,this.keypath);s(this.root,this.keypath,e,true);i(this.root,this.keypath)}this.evaluating=false;return this},teardown:function(){while(this.refs.length){this.refs.pop().teardown()}r(this.root,this.keypath);this.root._evaluators[this.keypath]=null},refresh:function(){if(!this.selfUpdating){this.deferred=true}var e=this.refs.length;while(e--){this.refs[e].update()}if(this.deferred){this.update();this.deferred=false}},updateSoftDependencies:function(e){var t,n,r;if(!this.softRefs){this.softRefs=[]}t=this.softRefs.length;while(t--){r=this.softRefs[t];if(!e[r.keypath]){this.softRefs.splice(t,1);this.softRefs[r.keypath]=false;r.teardown()}}t=e.length;while(t--){n=e[t];if(!this.softRefs[n]){r=new u(this.root,n,this);this.softRefs.push(r);this.softRefs[n]=true}}this.selfUpdating=this.refs.length+this.softRefs.length<=1}};return a}(A,Y,p,j,k,X,Vt,$t);var Kt=function(e,t,n,r,i){function o(e,t){return e.replace(/\$\{([0-9]+)\}/g,function(e,n){return t[n]?t[n].value||t[n].keypath:"undefined"})}function u(e){return"${"+e.replace(/[\.\[\]]/g,"-")+"}"}var s=function(r,i,s,o){var u=this,a,f,l;a=r.root;this.root=a;this.callback=o;this.owner=r;this.str=s.s;this.args=l=[];this.unresolved=[];this.pending=0;f=i.indexRefs;if(!s.r||!s.r.length){this.resolved=this.ready=true;this.bubble();return}s.r.forEach(function(r,s){var o,c,h;if(f&&(o=f[r])!==undefined){l[s]={indexRef:r,value:o};return}if(c=t(a,r,i)){l[s]={keypath:c};return}l[s]=undefined;u.pending+=1;h=new n(a,r,i,function(t){u.resolve(s,t);e(u.unresolved,h)});u.unresolved.push(h)});this.ready=true;this.bubble()};s.prototype={bubble:function(){if(!this.ready){return}this.uniqueString=o(this.str,this.args);this.keypath=u(this.uniqueString);this.createEvaluator();this.callback(this.keypath)},teardown:function(){var e;while(e=this.unresolved.pop()){e.teardown()}},resolve:function(e,t){this.args[e]={keypath:t};this.bubble();this.resolved=!--this.pending},createEvaluator:function(){var e;if(!this.root._evaluators[this.keypath]){e=new r(this.root,this.keypath,this.uniqueString,this.str,this.args,this.owner.priority);this.root._evaluators[this.keypath]=e;e.update()}else{this.root._evaluators[this.keypath].refresh()}},reassign:function(e,t,n,r){var s;this.args.forEach(function(o){var u;if(o.keypath&&(u=i(o.keypath,n,r))){o.keypath=u;s=true}else if(o.indexRef===e){o.value=t;s=true}});if(s){this.bubble()}}};return s}(w,N,Xt,Jt,jt);var Qt=function(e,t,n,r,i,s,o){var u=function(i,s,u){var f=this,l,c,h,p,d;l=i.root;c=i.parentFragment;this.ref=s.r;this.root=i.root;this.mustache=i;this.callback=u;this.pending=0;this.unresolved=[];d=this.members=[];this.indexRefMembers=[];this.keypathObservers=[];this.expressionResolvers=[];s.m.forEach(function(s,u){var v,m,g,y,b,w;if(typeof s==="string"){f.members[u]=s;return}if(s.t===e.REFERENCE){v=s.n;m=c.indexRefs;if(m&&(g=m[v])!==undefined){d[u]=g;f.indexRefMembers.push({ref:v,index:u});return}p=true;y=function(e){var t=new a(l,e,i.priority,f,u);f.keypathObservers.push(t)};if(h=n(l,v,c)){y(h);return}d[u]=undefined;f.pending+=1;b=new r(l,v,c,function(e){f.resolve(u,e);t(f.unresolved,b)});f.unresolved.push(b);return null}p=true;f.pending+=1;w=new o(f,c,s,function(e){f.resolve(u,e);t(f.unresolved,w)});f.unresolved.push(w)});if(!p){h=this.getKeypath();u(h);return}this.ready=true;this.bubble()};u.prototype={getKeypath:function(){return this.ref+"."+this.members.join(".")},bubble:function(){if(!this.ready||this.pending){return}this.callback(this.getKeypath())},resolve:function(e,t){var n=new a(this.root,t,this.mustache.priority,this,e);n.update();this.keypathObservers.push(n);this.resolved=!--this.pending;this.bubble()},teardown:function(){var e;while(e=this.unresolved.pop()){e.teardown()}},reassign:function(e,t){var n,r,i;r=this.indexRefMembers.length;while(r--){i=this.indexRefMembers[r];if(i.ref===e){n=true;this.members[i.index]=t}}if(n){this.bubble()}}};var a=function(e,t,n,r,s){this.root=e;this.keypath=t;this.priority=n;this.resolver=r;this.index=s;i(this);this.update()};a.prototype={update:function(){var e=this.resolver;e.members[this.index]=this.root.get(this.keypath);e.bubble()},teardown:function(){s(this)}};return u}(B,w,N,Xt,V,$,Kt);var Gt=function(e,t,n,r){return function(s,o){var u,a,f,l,c,h,p;c=o.parentFragment;h=o.descriptor;s.root=c.root;s.parentFragment=c;s.descriptor=o.descriptor;s.index=o.index||0;s.priority=c.priority;s.type=o.descriptor.t;p=function(e){s.resolve(e)};if(u=h.r){f=c.indexRefs;if(f&&(l=f[u])!==undefined){s.indexRef=u;s.value=l;s.render(s.value)}else{a=t(s.root,u,s.parentFragment);if(a!==undefined){p(a)}else{s.ref=u;e.addUnresolved(s)}}}if(o.descriptor.x){s.resolver=new r(s,c,o.descriptor.x,p)}if(o.descriptor.kx){s.resolver=new n(s,o.descriptor.kx,p)}if(s.descriptor.n&&!s.hasOwnProperty("value")){s.render(undefined)}}}(A,N,Qt,Kt);var Yt=function(e,t){var n={evaluateWrapped:true};return function(){var i=t(this.root,this.keypath,n);if(!e(i,this.value)){this.render(i);this.value=i}}}(p,G);var Zt=function(e,t,n){return function(i){var s;if(i===this.keypath){return}if(this.registered){n(this);if(this.type===e.SECTION){s=this.fragments.length;while(s--){this.fragments[s].reassign(null,null,this.keypath,i)}}}this.keypath=i;t(this);this.update()}}(B,V,$);var en=function(e){return function(n,r,i,s){var o,u;if(this.resolver){this.resolver.reassign(n,r,i,s)}else if(this.keypath){o=e(this.keypath,i,s);if(o){this.resolve(o)}}else if(n!==undefined&&this.indexRef===n){this.value=r;this.render(r)}if(this.fragments){u=this.fragments.length;while(u--){this.fragments[u].reassign(n,r,i,s)}}}}(jt);var tn=function(e,t,n,r){return{init:e,update:t,resolve:n,reassign:r}}(Gt,Yt,Zt,en);var nn=function(e,t,n,r){var i,s,o;s=/</g;o=/>/g;i=function(t,r){this.type=e.INTERPOLATOR;if(r){this.node=document.createTextNode("");r.appendChild(this.node)}n.init(this,t)};i.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,detach:r,teardown:function(e){if(e){this.detach()}t(this)},render:function(e){if(this.node){this.node.data=e==undefined?"":e}},firstNode:function(){return this.node},toString:function(){var e=this.value!=undefined?""+this.value:"";return e.replace(s,"&lt;").replace(o,"&gt;")}};return i}(B,Wt,tn,Ut);var rn=function(){var e=[];return function(n){var r=this,i,s,o,u,a,f,l,c;i=this.parentFragment;a=[];n.forEach(function(n,i){var o,u,f,l;if(n===i){a[n]=r.fragments[i];return}if(s===undefined){s=i}if(n===-1){e.push(r.fragments[i]);return}o=r.fragments[i];u=n-i;f=r.keypath+"."+i;l=r.keypath+"."+n;o.reassign(r.descriptor.i,i,n,u,f,l);a[n]=o});while(l=e.pop()){l.teardown(true)}if(s===undefined){s=this.length}this.length=u=this.root.get(this.keypath).length;if(u===s){return}f={descriptor:this.descriptor.f,root:this.root,pNode:i.pNode,owner:this};if(this.descriptor.i){f.indexRef=this.descriptor.i}for(o=s;o<u;o+=1){if(l=a[o]){this.docFrag.appendChild(l.detach(false))}else{f.context=this.keypath+"."+o;f.index=o;l=this.createFragment(f)}this.fragments[o]=l}c=i.findNextNode(this);i.pNode.insertBefore(this.docFrag,c)}}();var sn=function(e,t){function n(e,t,n){var r,i,s;i=t.length;if(i<e.length){s=e.fragments.splice(i,e.length-i);while(s.length){s.pop().teardown(true)}}else{if(i>e.length){for(r=e.length;r<i;r+=1){n.context=e.keypath+"."+r;n.index=r;if(e.descriptor.i){n.indexRef=e.descriptor.i}e.fragments[r]=e.createFragment(n)}}}e.length=i}function r(e,t,n){var r,i,s,o;s=e.hasKey||(e.hasKey={});i=e.fragments.length;while(i--){o=e.fragments[i];if(!(o.index in t)){e.fragments[i].teardown(true);e.fragments.splice(i,1);s[o.index]=false}}for(r in t){if(!s[r]){n.context=e.keypath+"."+r;n.index=r;if(e.descriptor.i){n.indexRef=e.descriptor.i}e.fragments.push(e.createFragment(n));s[r]=true}}e.length=e.fragments.length}function i(e,t){if(!e.length){t.context=e.keypath;t.index=0;e.fragments[0]=e.createFragment(t);e.length=1}}function s(t,n,r,i){var s,o,u,a;o=e(n)&&n.length===0;if(r){s=o||!n}else{s=n&&!o}if(s){if(!t.length){i.index=0;t.fragments[0]=t.createFragment(i);t.length=1}if(t.length>1){u=t.fragments.splice(1);while(a=u.pop()){a.teardown(true)}}}else if(t.length){t.teardownFragments(true);t.length=0}}return function(u,a){var f={descriptor:u.descriptor.f,root:u.root,pNode:u.parentFragment.pNode,pElement:u.parentFragment.pElement,owner:u};if(u.descriptor.n){s(u,a,true,f);return}if(e(a)){n(u,a,f)}else if(t(a)||typeof a==="function"){if(u.descriptor.i){r(u,a,f)}else{i(u,f)}}else{s(u,a,false,f)}}}(M,Z);var on=function(e,t){return function(r){var i,s;if(s=this.root._wrapped[this.keypath]){r=s.get()}if(this.rendering){return}this.rendering=true;t(this,r);this.rendering=false;if(this.docFrag&&!this.docFrag.childNodes.length){return}if(!this.initialising&&e){i=this.parentFragment.findNextNode(this);if(i&&i.parentNode===this.parentFragment.pNode){this.parentFragment.pNode.insertBefore(this.docFrag,i)}else{this.parentFragment.pNode.appendChild(this.docFrag)}}}}(u,sn);var un=function(e,t,n,r){var i,s,o,u,a;o=e.descriptor.i;for(i=t;i<n;i+=1){s=e.fragments[i];u=e.keypath+"."+(i-r);a=e.keypath+"."+i;s.index=i;s.reassign(o,i,u,a)}};var an=function(e){function t(e){e.teardown(true)}function n(e,t,n){var r,i,s;e.rendering=true;r={descriptor:e.descriptor.f,root:e.root,pNode:e.parentFragment.pNode,owner:e,indexRef:e.descriptor.i};for(i=t;i<n;i+=1){r.context=e.keypath+"."+i;r.index=i;e.fragments[i]=e.createFragment(r)}s=e.fragments[n]?e.fragments[n].firstNode():e.parentFragment.findNextNode(e);e.parentFragment.pNode.insertBefore(e.docFrag,s);e.rendering=false}return function(r){var i=this,s,o,u,a,f;s=r.balance;if(!s){return}o=r.start;i.length+=s;if(s<0){i.fragments.splice(o,-s).forEach(t);e(i,o,i.length,s);return}u=o+r.removed;a=o+r.added;f=[u,0];f.length+=s;i.fragments.splice.apply(i.fragments,f);e(i,a,i.length,s);n(i,u,a)}}(un);var fn=function(e,t,n,r,i,s,o){var u,a;o.push(function(){a=o.DomFragment});u=function(n,r){this.type=e.SECTION;this.inverted=!!n.descriptor.n;this.fragments=[];this.length=0;if(r){this.docFrag=document.createDocumentFragment()}this.initialising=true;t.init(this,n);if(r){r.appendChild(this.docFrag)}this.initialising=false};u.prototype={update:t.update,resolve:t.resolve,reassign:t.reassign,splice:i,merge:n,detach:function(){var e,t;if(this.docFrag){t=this.fragments.length;for(e=0;e<t;e+=1){this.docFrag.appendChild(this.fragments[e].detach())}return this.docFrag}},teardown:function(e){this.teardownFragments(e);s(this)},firstNode:function(){if(this.fragments[0]){return this.fragments[0].firstNode()}return this.parentFragment.findNextNode(this)},findNextNode:function(e){if(this.fragments[e.index+1]){return this.fragments[e.index+1].firstNode()}return this.parentFragment.findNextNode(this)},teardownFragments:function(e){var t;while(t=this.fragments.shift()){t.teardown(e)}},render:r,createFragment:function(e){var t=new a(e);if(this.docFrag){this.docFrag.appendChild(t.docFrag)}return t},toString:function(){var e,t,n;e="";t=0;n=this.length;for(t=0;t<n;t+=1){e+=this.fragments[t].toString()}return e},find:function(e){var t,n,r;n=this.fragments.length;for(t=0;t<n;t+=1){if(r=this.fragments[t].find(e)){return r}}return null},findAll:function(e,t){var n,r;r=this.fragments.length;for(n=0;n<r;n+=1){this.fragments[n].findAll(e,t)}},findComponent:function(e){var t,n,r;n=this.fragments.length;for(t=0;t<n;t+=1){if(r=this.fragments[t].findComponent(e)){return r}}return null},findAllComponents:function(e,t){var n,r;r=this.fragments.length;for(n=0;n<r;n+=1){this.fragments[n].findAllComponents(e,t)}}};return u}(B,tn,rn,on,an,Wt,b);var ln=function(e,t,n,r,i){var s=function(t,r){this.type=e.TRIPLE;if(r){this.nodes=[];this.docFrag=document.createDocumentFragment()}this.initialising=true;n.init(this,t);if(r){r.appendChild(this.docFrag)}this.initialising=false};s.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,detach:function(){var e,t;if(this.docFrag){e=this.nodes.length;for(t=0;t<e;t+=1){this.docFrag.appendChild(this.nodes[t])}return this.docFrag}},teardown:function(e){if(e){this.detach();this.docFrag=this.nodes=null}i(this)},firstNode:function(){if(this.nodes[0]){return this.nodes[0]}return this.parentFragment.findNextNode(this)},render:function(e){var t,n;if(!this.nodes){return}while(this.nodes.length){t=this.nodes.pop();t.parentNode.removeChild(t)}if(!e){this.nodes=[];return}n=this.parentFragment.pNode;this.nodes=r(e,n.tagName,n.namespaceURI,this.docFrag);if(!this.initialising){n.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))}if(n.tagName==="SELECT"&&n._ractive&&n._ractive.binding){n._ractive.binding.update()}},toString:function(){return this.value!=undefined?this.value:""},find:function(e){var n,r,i,s;r=this.nodes.length;for(n=0;n<r;n+=1){i=this.nodes[n];if(i.nodeType!==1){continue}if(t(i,e)){return i}if(s=i.querySelector(e)){return s}}return null},findAll:function(e,n){var r,i,s,o,u,a;i=this.nodes.length;for(r=0;r<i;r+=1){s=this.nodes[r];if(s.nodeType!==1){continue}if(t(s,e)){n.push(s)}if(o=s.querySelectorAll(e)){u=o.length;for(a=0;a<u;a+=1){n.push(o[a])}}}}};return s}(B,ot,tn,Rt,Wt);var cn=function(e){return function(t,n){if(t.a&&t.a.xmlns){return t.a.xmlns}return t.e==="svg"?e.svg:n.namespaceURI||e.html}}(s);var hn=function(){var e,t,n,r;e="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" ");t="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" ");n=function(e){var t={},n=e.length;while(n--){t[e[n].toLowerCase()]=e[n]}return t};r=n(e.concat(t));return function(e){var t=e.toLowerCase();return r[t]||t}}();var pn=function(e,t){return function(n,r){var i,s;i=r.indexOf(":");if(i!==-1){s=r.substr(0,i);if(s!=="xmlns"){r=r.substring(i+1);n.name=t(r);n.lcName=n.name.toLowerCase();n.namespace=e[s.toLowerCase()];if(!n.namespace){throw'Unknown namespace ("'+s+'")'}return}}n.name=n.element.namespace!==e.html?t(r):r;n.lcName=n.name.toLowerCase()}}(s,hn);var dn=function(e){return function(n,r){var i,s=r.value===null?"":r.value;if(i=r.pNode){if(n.namespace){i.setAttributeNS(n.namespace,r.name,s)}else{if(r.name==="style"&&i.style.setAttribute){i.style.setAttribute("cssText",s)}else if(r.name==="class"&&(!i.namespaceURI||i.namespaceURI===e.html)){i.className=s}else{i.setAttribute(r.name,s)}}if(n.name==="id"){r.root.nodes[r.value]=i}if(n.name==="value"){i._ractive.value=r.value}}n.value=r.value}}(s);var vn=function(e){var t={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n,r){var i;if(n.pNode&&!n.namespace&&(!r.pNode.namespaceURI||r.pNode.namespaceURI===e.html)){i=t[n.name]||n.name;if(r.pNode[i]!==undefined){n.propertyName=i}if(typeof r.pNode[i]==="boolean"||i==="value"){n.useProperty=true}}}}(s);var mn=function(e){return function(n){var r,i;r=n.fragment.items;if(r.length!==1){return}i=r[0];if(i.type!==e.INTERPOLATOR||!i.keypath&&!i.ref){return}return i}}(B);var gn=function(e){return function(t,n){var r;if(!e(t)||!e(n)){return false}if(t.length!==n.length){return false}r=t.length;while(r--){if(t[r]!==n[r]){return false}}return true}}(M);var yn=function(e,t,n,r,i,s){var o='For two-way binding to work, attribute value must be a single interpolator (e.g. value="{{foo}}")',u="You cannot set up two-way binding against an expression ",a,f,l,c,h,p,d,v,m,g,y,b,w,E;a=function(){var e=this.pNode,n,r,i;n=this.interpolator;if(!n){t(o);return false}if(n.keypath&&n.keypath.substr==="${"){t(u+n.keypath);return false}if(!n.keypath){n.resolve(n.descriptor.r)}this.keypath=n.keypath;r=h(this);if(!r){return false}e._ractive.binding=this.element.binding=r;this.twoway=true;i=this.root._twowayBindings[this.keypath]||(this.root._twowayBindings[this.keypath]=[]);i.push(r);return true};f=function(){e.start(this._ractive.root);this._ractive.binding.update();e.end()};l={evaluateWrapped:true};c=function(){var e=i(this._ractive.root,this._ractive.binding.keypath,l);this.value=e==undefined?"":e};h=function(e){var t=e.pNode;if(t.tagName==="SELECT"){return t.multiple?new d(e,t):new v(e,t)}if(t.type==="checkbox"||t.type==="radio"){if(e.propertyName==="name"){if(t.type==="checkbox"){return new g(e,t)}if(t.type==="radio"){return new m(e,t)}}if(e.propertyName==="checked"){return new y(e,t)}return null}if(e.lcName!=="value"){throw new Error("Attempted to set up an illegal two-way binding. This error is unexpected - if you can, please file an issue at https://github.com/RactiveJS/Ractive, or contact @RactiveJS on Twitter. Thanks!")}if(t.type==="file"){return new b(e,t)}if(t.getAttribute("contenteditable")){return new w(e,t)}return new E(e,t)};d=function(e,t){var n;p(this,e,t);t.addEventListener("change",f,false);n=i(this.root,this.keypath);if(n===undefined){this.update()}};d.prototype={value:function(){var e,t,n,r,i,s;e=[];t=this.node.options;r=t.length;for(n=0;n<r;n+=1){i=t[n];if(i.selected){s=i._ractive?i._ractive.value:i.value;e.push(s)}}return e},update:function(){var t,r,i;t=this.attr;r=t.value;i=this.value();if(r===undefined||!n(i,r)){e.addBinding(t);t.value=i;s(this.root,this.keypath,i);e.trigger()}return this},deferUpdate:function(){if(this.deferred===true){return}e.addAttribute(this);this.deferred=true},teardown:function(){this.node.removeEventListener("change",f,false)}};v=function(e,t){var n;p(this,e,t);t.addEventListener("change",f,false);n=i(this.root,this.keypath);if(n===undefined){this.update()}};v.prototype={value:function(){var e,t,n,r,i;e=this.node.options;n=e.length;for(t=0;t<n;t+=1){r=e[t];if(e[t].selected){i=r._ractive?r._ractive.value:r.value;return i}}},update:function(){var t=this.value();e.addBinding(this.attr);this.attr.value=t;s(this.root,this.keypath,t);e.trigger();return this},deferUpdate:function(){if(this.deferred===true){return}e.addAttribute(this);this.deferred=true},teardown:function(){this.node.removeEventListener("change",f,false)}};m=function(t,n){var r;this.radioName=true;p(this,t,n);n.name="{{"+t.keypath+"}}";n.addEventListener("change",f,false);if(n.attachEvent){n.addEventListener("click",f,false)}r=i(this.root,this.keypath);if(r!==undefined){n.checked=r==n._ractive.value}else{e.addRadio(this)}};m.prototype={value:function(){return this.node._ractive?this.node._ractive.value:this.node.value},update:function(){var t=this.node;if(t.checked){e.addBinding(this.attr);s(this.root,this.keypath,this.value());e.trigger()}},teardown:function(){this.node.removeEventListener("change",f,false);this.node.removeEventListener("click",f,false)}};g=function(t,n){var r,s;this.checkboxName=true;p(this,t,n);n.name="{{"+this.keypath+"}}";n.addEventListener("change",f,false);if(n.attachEvent){n.addEventListener("click",f,false)}r=i(this.root,this.keypath);if(r!==undefined){s=r.indexOf(n._ractive.value)!==-1;n.checked=s}else{e.addCheckbox(this)}};g.prototype={changed:function(){return this.node.checked!==!!this.checked},update:function(){this.checked=this.node.checked;e.addBinding(this.attr);s(this.root,this.keypath,r(this.root,this.keypath));e.trigger()},teardown:function(){this.node.removeEventListener("change",f,false);this.node.removeEventListener("click",f,false)}};y=function(e,t){p(this,e,t);t.addEventListener("change",f,false);if(t.attachEvent){t.addEventListener("click",f,false)}};y.prototype={value:function(){return this.node.checked},update:function(){e.addBinding(this.attr);s(this.root,this.keypath,this.value());e.trigger()},teardown:function(){this.node.removeEventListener("change",f,false);this.node.removeEventListener("click",f,false)}};b=function(e,t){p(this,e,t);t.addEventListener("change",f,false)};b.prototype={value:function(){return this.attr.pNode.files},update:function(){s(this.attr.root,this.attr.keypath,this.value());e.trigger()},teardown:function(){this.node.removeEventListener("change",f,false)}};w=function(e,t){p(this,e,t);t.addEventListener("change",f,false);if(!this.root.lazy){t.addEventListener("input",f,false);if(t.attachEvent){t.addEventListener("keyup",f,false)}}};w.prototype={update:function(){e.addBinding(this.attr);s(this.root,this.keypath,this.node.innerHTML);e.trigger()},teardown:function(){this.node.removeEventListener("change",f,false);this.node.removeEventListener("input",f,false);this.node.removeEventListener("keyup",f,false)}};E=function(e,t){p(this,e,t);t.addEventListener("change",f,false);if(!this.root.lazy){t.addEventListener("input",f,false);if(t.attachEvent){t.addEventListener("keyup",f,false)}}this.node.addEventListener("blur",c,false)};E.prototype={value:function(){var e=this.attr.pNode.value;if(+e+""===e&&e.indexOf("e")===-1){e=+e}return e},update:function(){var t=this.attr,n=this.value();e.addBinding(t);s(t.root,t.keypath,n);e.trigger()},teardown:function(){this.node.removeEventListener("change",f,false);this.node.removeEventListener("input",f,false);this.node.removeEventListener("keyup",f,false);this.node.removeEventListener("blur",c,false)}};p=function(e,t,n){e.attr=t;e.node=n;e.root=t.root;e.keypath=t.keypath};return a}(A,Y,gn,S,G,I);var bn=function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d;r=function(){var e;if(!this.ready){return this}e=this.pNode;if(e.tagName==="SELECT"&&this.lcName==="value"){this.update=s;this.deferredUpdate=o;return this.update()}if(this.isFileInputValue){this.update=i;return this}if(this.twoway&&this.lcName==="name"){if(e.type==="radio"){this.update=f;return this.update()}if(e.type==="checkbox"){this.update=l;return this.update()}}if(this.lcName==="style"&&e.style.setAttribute){this.update=c;return this.update()}if(this.lcName==="class"&&(!e.namespaceURI||e.namespaceURI===t.html)){this.update=h;return this.update()}if(e.getAttribute("contenteditable")&&this.lcName==="value"){this.update=p;return this.update()}this.update=d;return this.update()};i=function(){return this};o=function(){this.deferredUpdate=this.pNode.multiple?a:u;this.deferredUpdate()};s=function(){e.addSelectValue(this);return this};u=function(){var e=this.fragment.getValue(),t,n,r,i;this.value=this.pNode._ractive.value=e;t=this.pNode.options;i=t.length;while(i--){n=t[i];r=n._ractive?n._ractive.value:n.value;if(r==e){n.selected=true;return this}}return this};a=function(){var e=this.fragment.getValue(),t,r,i,s;if(!n(e)){e=[e]}t=this.pNode.options;r=t.length;while(r--){i=t[r];s=i._ractive?i._ractive.value:i.value;i.selected=e.indexOf(s)!==-1}this.value=e;return this};f=function(){var e,t;e=this.pNode;t=this.fragment.getValue();e.checked=t==e._ractive.value;return this};l=function(){var e,t;e=this.pNode;t=this.fragment.getValue();if(!n(t)){e.checked=t==e._ractive.value;return this}e.checked=t.indexOf(e._ractive.value)!==-1;return this};c=function(){var e,t;e=this.pNode;t=this.fragment.getValue();if(t===undefined){t=""}if(t!==this.value){e.style.setAttribute("cssText",t);this.value=t}return this};h=function(){var e,t;e=this.pNode;t=this.fragment.getValue();if(t===undefined){t=""}if(t!==this.value){e.className=t;this.value=t}return this};p=function(){var e,t;e=this.pNode;t=this.fragment.getValue();if(t===undefined){t=""}if(t!==this.value){if(!this.active){e.innerHTML=t}this.value=t}return this};d=function(){var e,t,n;e=this.pNode;t=this.fragment.getValue();if(this.isValueAttribute){e._ractive.value=t}if(t==undefined){t=""}if(t!==this.value){if(this.useProperty){if(!this.active){e[this.propertyName]=t}if(e.tagName==="OPTION"&&e.selected&&(n=this.element.select.binding)){n.update()}this.value=t;return this}if(this.namespace){e.setAttributeNS(this.namespace,this.name,t);this.value=t;return this}if(this.lcName==="id"){if(this.value!==undefined){this.root.nodes[this.value]=undefined}this.root.nodes[t]=e}e.setAttribute(this.name,t);this.value=t}return this};return r}(A,s,M);var wn=function(e){var t;t=this.str.substr(this.pos,e.length);if(t===e){this.pos+=e.length;return e}return null};var En=function(){var e=/^\s+/;return function(){var t=e.exec(this.remaining());if(!t){return null}this.pos+=t[0].length;return t[0]}}();var Sn=function(e){return function(t){var n=e.exec(t.str.substring(t.pos));if(!n){return null}t.pos+=n[0].length;return n[1]||n[0]}};var xn=function(e){var t,n,r;t=e(/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/);n=e(/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/);r=e(/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/);return function(e){return function(i){var s,o,u,a;s=i.pos;o='"';u=false;while(!u){a=t(i)||n(i)||i.getStringMatch(e);if(a){if(a==='"'){o+='\\"'}else if(a==="\\'"){o+="'"}else{o+=a}}else{a=r(i);if(a){o+="\\u"+("000"+a.charCodeAt(1).toString(16)).slice(-4)}else{u=true}}}o+='"';return JSON.parse(o)}}}(Sn);var Tn=function(e){return e('"')}(xn);var Nn=function(e){return e("'")}(xn);var Cn=function(e,t,n){return function(r){var i,s;i=r.pos;if(r.getStringMatch('"')){s=n(r);if(!r.getStringMatch('"')){r.pos=i;return null}return{t:e.STRING_LITERAL,v:s}}if(r.getStringMatch("'")){s=t(r);if(!r.getStringMatch("'")){r.pos=i;return null}return{t:e.STRING_LITERAL,v:s}}return null}}(B,Tn,Nn);var kn=function(e,t){var n=t(/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/);return function(t){var r;if(r=n(t)){return{t:e.NUMBER_LITERAL,v:r}}return null}}(B,Sn);var Ln=function(e){return e(/^[a-zA-Z_$][a-zA-Z_$0-9]*/)}(Sn);var An=function(e,t,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var s;if(s=e(i)){return r.test(s.v)?s.v:'"'+s.v.replace(/"/g,'\\"')+'"'}if(s=t(i)){return s.v}if(s=n(i)){return s}}}(Cn,kn,Ln);var On=function(e,t,n,r){function l(e){var t,n,i;e.allowWhitespace();t=r(e);if(!t){return null}i={key:t};e.allowWhitespace();if(!e.getStringMatch(":")){return null}e.allowWhitespace();n=e.getToken();if(!n){return null}i.value=n.v;return i}var i,s,o,u,a,f;s={"true":true,"false":false,"undefined":undefined,"null":null};o=new RegExp("^(?:"+Object.keys(s).join("|")+")");u=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;a=/\$\{([^\}]+)\}/g;f=/^\$\{([^\}]+)\}/;i=function(e,t){this.str=e;this.values=t;this.pos=0;this.result=this.getToken()};i.prototype={remaining:function(){return this.str.substring(this.pos)},getStringMatch:e,getToken:function(){this.allowWhitespace();return this.getPlaceholder()||this.getSpecial()||this.getNumber()||this.getString()||this.getObject()||this.getArray()},getPlaceholder:function(){var e;if(!this.values){return null}if((e=f.exec(this.remaining()))&&this.values.hasOwnProperty(e[1])){this.pos+=e[0].length;return{v:this.values[e[1]]}}},getSpecial:function(){var e;if(e=o.exec(this.remaining())){this.pos+=e[0].length;return{v:s[e[0]]}}},getNumber:function(){var e;if(e=u.exec(this.remaining())){this.pos+=e[0].length;return{v:+e[0]}}},getString:function(){var e=n(this),t;if(e&&(t=this.values)){return{v:e.v.replace(a,function(e,n){return t[n]||n})}}return e},getObject:function(){var e,t;if(!this.getStringMatch("{")){return null}e={};while(t=l(this)){e[t.key]=t.value;this.allowWhitespace();if(this.getStringMatch("}")){return{v:e}}if(!this.getStringMatch(",")){return null}}return null},getArray:function(){var e,t;if(!this.getStringMatch("[")){return null}e=[];while(t=this.getToken()){e.push(t.v);if(this.getStringMatch("]")){return{v:e}}if(!this.getStringMatch(",")){return null}}return null},allowWhitespace:t};return function(e,t){var n=new i(e,t);if(n.result){return{value:n.result.v,remaining:n.remaining()}}return null}}(wn,En,Cn,An);var Mn=function(e,t,n){function i(e){if(typeof e==="string"){return e}return JSON.stringify(e)}var r=function(t){this.type=e.INTERPOLATOR;n.init(this,t)};r.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,render:function(e){this.value=e;this.parentFragment.bubble()},teardown:function(){t(this)},toString:function(){if(this.value==undefined){return""}return i(this.value)}};return r}(B,Wt,tn);var _n=function(e,t,n,r,i){var s,o;i.push(function(){o=i.StringFragment});s=function(n){this.type=e.SECTION;this.fragments=[];this.length=0;t.init(this,n)};s.prototype={update:t.update,resolve:t.resolve,reassign:t.reassign,teardown:function(){this.teardownFragments();r(this)},teardownFragments:function(){while(this.fragments.length){this.fragments.shift().teardown()}this.length=0},bubble:function(){this.value=this.fragments.join("");this.parentFragment.bubble()},render:function(e){var t;if(t=this.root._wrapped[this.keypath]){e=t.get()}n(this,e);this.parentFragment.bubble()},createFragment:function(e){return new o(e)},toString:function(){return this.fragments.join("")}};return s}(B,tn,sn,Wt,b);var Dn=function(e){var t=function(t){this.type=e.TEXT;this.text=t};t.prototype={toString:function(){return this.text},reassign:function(){},teardown:function(){}};return t}(B);var Pn=function(e,t){return function(){var n,r,i,s,o,u,a;if(!this.argsList||this.dirty){n={};r=0;s=this.root._guid;a=function(e){return e.map(function(e){var t,i,o;if(e.text){return e.text}if(e.fragments){return e.fragments.map(function(e){return a(e.items)}).join("")}t=s+"-"+r++;if(i=e.root._wrapped[e.keypath]){o=i.value}else{o=e.value}n[t]=o;return"${"+t+"}"}).join("")};i=a(this.items);u=t("["+i+"]",n);if(!u){o="Could not parse directive arguments ("+this.toString()+"). If you think this is a bug, please file an issue at http://github.com/RactiveJS/Ractive/issues";if(this.root.debug){throw new Error(o)}else{e(o);this.argsList=[i]}}else{this.argsList=u.value}this.dirty=false}return this.argsList}}(Y,On);var Hn=function(e,t,n,r,i,s,o,u){var a=function(e){n.init(this,e)};a.prototype={reassign:n.reassign,createItem:function(t){if(typeof t.descriptor==="string"){return new s(t.descriptor)}switch(t.descriptor.t){case e.INTERPOLATOR:return new r(t);case e.TRIPLE:return new r(t);case e.SECTION:return new i(t);default:throw"Something went wrong in a rather interesting way"}},bubble:function(){this.dirty=true;this.owner.bubble()},teardown:function(){var e,t;e=this.items.length;for(t=0;t<e;t+=1){this.items[t].teardown()}},getValue:function(){var t;if(this.items.length===1&&this.items[0].type===e.INTERPOLATOR){t=this.items[0].value;if(t!==undefined){return t}}return this.toString()},isSimple:function(){var t,n,r;if(this.simple!==undefined){return this.simple}t=this.items.length;while(t--){n=this.items[t];if(n.type===e.TEXT){continue}if(n.type===e.INTERPOLATOR){if(r){return false}else{r=true;continue}}return this.simple=false}return this.simple=true},toString:function(){return this.items.join("")},toJSON:function(){var e=this.getValue(),n;if(typeof e==="string"){n=t(e);e=n?n.value:e}return e},toArgsList:o};u.StringFragment=a;return a}(B,On,qt,Mn,_n,Dn,Pn,b);var Bn=function(e,t,n,r,i,s,o,u,a){var f=function(e){this.type=t.ATTRIBUTE;this.element=e.element;n(this,e.name);if(e.value===null||typeof e.value==="string"){r(this,e);return}this.root=e.root;this.pNode=e.pNode;this.parentFragment=this.element.parentFragment;this.fragment=new a({descriptor:e.value,root:this.root,owner:this});this.interpolator=s(this);if(!this.pNode){return}if(this.name==="value"){this.isValueAttribute=true;if(this.pNode.tagName==="INPUT"&&this.pNode.type==="file"){this.isFileInputValue=true}}i(this,e);this.selfUpdating=this.fragment.isSimple();this.ready=true};f.prototype={bind:o,update:u,updateBindings:function(){this.keypath=this.interpolator.keypath||this.interpolator.ref;if(this.propertyName==="name"){this.pNode.name="{{"+this.keypath+"}}"}},reassign:function(e,t,n,r){if(this.fragment){this.fragment.reassign(e,t,n,r);if(this.twoway){this.updateBindings()}}},teardown:function(){var e;if(this.boundEvents){e=this.boundEvents.length;while(e--){this.pNode.removeEventListener(this.boundEvents[e],this.updateModel,false)}}if(this.fragment){this.fragment.teardown()}},bubble:function(){if(this.selfUpdating){this.update()}else if(!this.deferred&&this.ready){e.addAttribute(this);this.deferred=true}},toString:function(){var e,t;if(this.value===null){return this.name}if(this.name==="value"&&this.element.lcName==="select"){return}if(this.name==="name"&&this.element.lcName==="input"&&(t=this.interpolator)){return"name={{"+(t.keypath||t.ref)+"}}"}if(!this.fragment){return this.name+"="+JSON.stringify(this.value)}e=this.fragment.toString();return this.name+"="+JSON.stringify(e)}};return f}(A,B,pn,dn,vn,mn,yn,bn,Hn);var jn=function(e){return function(n,r,i){var s=new e({element:n,name:r,value:i,root:n.root,pNode:n.node});n.attributes.push(n.attributes[r]=s);if(r!=="name"){s.update()}}}(Bn);var Fn=function(e){return function(t,n){var r;t.attributes=[];for(r in n){if(n.hasOwnProperty(r)){e(t,r,n[r])}}return t.attributes}}(jn);var In=function(t){var n=[],r=t.length;while(r--){n[r]=t[r]}return n};var qn=function(e){return function(n,r){if(!n.matchingStaticNodes[r]){n.matchingStaticNodes[r]=e(n.node.querySelectorAll(r))}return n.matchingStaticNodes[r]}}(In);var Rn=function(e,t,n,r,i){function a(e){var t,n,i,s,o,u,a;i=e.node;t=e.root;do{n=t._liveQueries;a=n.length;while(a--){s=n[a];o=n[s];u=r(e,s);o.push.apply(o,u)}}while(t=t._parent)}var s,o,u;i.push(function(){s=i.DomFragment});o=function(){var e=this.node,t=this.fragment.toString();if(e.styleSheet){e.styleSheet.cssText=t}else{e.innerHTML=t}};u=function(){if(!this.node.type||this.node.type==="text/javascript"){e("Script tag was updated. This does not cause the code to be re-evaluated!")}this.node.text=this.fragment.toString()};return function(r,i,f,l){if(r.lcName==="script"||r.lcName==="style"){r.fragment=new n({descriptor:f.f,root:r.root,owner:r});if(l){if(r.lcName==="script"){r.bubble=u;r.node.text=r.fragment.toString()}else{r.bubble=o;r.bubble()}}return}if(typeof f.f==="string"&&(!i||!i.namespaceURI||i.namespaceURI===t.html)){r.html=f.f;if(l){i.innerHTML=r.html;r.matchingStaticNodes={};a(r)}}else{r.fragment=new s({descriptor:f.f,root:r.root,pNode:i,owner:r,pElement:r});if(l){i.appendChild(r.fragment.docFrag)}}}}(Y,s,Hn,qn,b);var Un=function(e,t){var n=function(n,r,i){var s=this,o,u,a;s.root=r;s.node=i.node;o=n.n||n;if(typeof o!=="string"){u=new t({descriptor:o,root:r,owner:i});o=u.toString();u.teardown()}if(n.a){s.params=n.a}else if(n.d){s.fragment=new t({descriptor:n.d,root:r,owner:i});s.params=s.fragment.toArgsList();s.fragment.bubble=function(){this.dirty=true;s.params=this.toArgsList();if(s.ready){s.update()}}}s.fn=r.decorators[o];if(!s.fn){a='Missing "'+o+'" decorator. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#decorators';if(r.debug){throw new Error(a)}else{e(a)}}};n.prototype={init:function(){var e,t;if(this.params){t=[this.node].concat(this.params);e=this.fn.apply(this.root,t)}else{e=this.fn.call(this.root,this.node)}if(!e||!e.teardown){throw new Error("Decorator definition must return an object with a teardown method")}this.actual=e;this.ready=true},update:function(){if(this.actual.update){this.actual.update.apply(this.root,this.params)}else{this.actual.teardown(true);this.init()}},teardown:function(e){this.actual.teardown();if(!e&&this.fragment){this.fragment.teardown()}}};return n}(Y,Hn);var zn=function(e,t){return function(n,r,i){var s=new t(n,r,i);if(s.fn){i.decorator=s;e.addDecorator(i.decorator)}}}(A,Un);var Wn=function(e,t){var n,r,i,s,o,u,a,f,l;n=function(e,t,n,i){var s,o;s=e.node._ractive.events;o=s[t]||(s[t]=new r(e,t,i));o.add(n)};r=function(t,n){var r;this.element=t;this.root=t.root;this.node=t.node;this.name=n;this.proxies=[];if(r=this.root.events[n]){this.custom=r(this.node,l(n))}else{if(!("on"+n in this.node)){e('Missing "'+this.name+'" event. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#events')}this.node.addEventListener(n,f,false)}};r.prototype={add:function(e){this.proxies.push(new i(this.element,this.root,e))},teardown:function(){var e;if(this.custom){this.custom.teardown()}else{this.node.removeEventListener(this.name,f,false)}e=this.proxies.length;while(e--){this.proxies[e].teardown()}},fire:function(e){var t=this.proxies.length;while(t--){this.proxies[t].fire(e)}}};i=function(e,n,r){var i;this.root=n;i=r.n||r;if(typeof i==="string"){this.n=i}else{this.n=new t({descriptor:r.n,root:this.root,owner:e})}if(r.a){this.a=r.a;this.fire=o;return}if(r.d){this.d=new t({descriptor:r.d,root:this.root,owner:e});this.fire=u;return}this.fire=s};i.prototype={teardown:function(){if(this.n.teardown){this.n.teardown()}if(this.d){this.d.teardown()}},bubble:function(){}};s=function(e){this.root.fire(this.n.toString(),e)};o=function(e){this.root.fire.apply(this.root,[this.n.toString(),e].concat(this.a))};u=function(e){var t=this.d.toArgsList();if(typeof t==="string"){t=t.substr(1,t.length-2)}this.root.fire.apply(this.root,[this.n.toString(),e].concat(t))};f=function(e){var t=this._ractive;t.events[e.type].fire({node:this,original:e,index:t.index,keypath:t.keypath,context:t.root.get(t.keypath)})};a={};l=function(e){if(a[e]){return a[e]}return a[e]=function(t){var n=t.node._ractive;t.index=n.index;t.keypath=n.keypath;t.context=n.root.get(n.keypath);n.events[e].fire(t)}};return n}(Y,Hn);var Xn=function(e){return function(t,n){var r,i,s;for(i in n){if(n.hasOwnProperty(i)){s=i.split("-");r=s.length;while(r--){e(t,s[r],n[i])}}}}}(Wn);var Vn=function(e){var t,n,r,i,s;t=e.root;do{n=t._liveQueries;r=n.length;while(r--){i=n[r];s=n[i];if(s._test(e)){(e.liveQueries||(e.liveQueries=[])).push(s)}}}while(t=t._parent)};var $n=function(){if(this._inited){throw new Error("Cannot initialize a transition more than once")}this._inited=true;this._fn.apply(this.root,[this].concat(this.params))};var Jn=function(e,t,n){var r,i;if(!e){return}r={};i=n("div").style;return function(e){var n,s,o;if(!r[e]){if(i[e]!==undefined){r[e]=e}else{o=e.charAt(0).toUpperCase()+e.substring(1);n=t.length;while(n--){s=t[n];if(i[s+o]!==undefined){r[e]=s+o;break}}}}return r[e]}}(u,m,o);var Kn=function(e,t,n,r){var i;if(!t){return}i=window.getComputedStyle||e.getComputedStyle;return function(e){var t,i,s,o,u;t=window.getComputedStyle(this.node);if(typeof e==="string"){u=t[r(e)];if(u==="0px"){u=0}return u}if(!n(e)){throw new Error("Transition#getStyle must be passed a string, or an array of strings representing CSS properties")}i={};s=e.length;while(s--){o=e[s];u=t[r(o)];if(u==="0px"){u=0}i[o]=u}return i}}(n,u,M,Jn);var Qn=function(e){return function(t,n){var r;if(typeof t==="string"){this.node.style[e(t)]=n}else{for(r in t){if(t.hasOwnProperty(r)){this.node.style[e(r)]=t[r]}}}return this}}(Jn);var Gn=function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})};var Yn=function(e,t,n){function i(e){return e}var r=function(r){var s;this.duration=r.duration;this.step=r.step;this.complete=r.complete;if(typeof r.easing==="string"){s=r.root.easing[r.easing];if(!s){e('Missing easing function ("'+r.easing+'"). You may need to download a plugin from [TODO]');s=i}}else if(typeof r.easing==="function"){s=r.easing}else{s=i}this.easing=s;this.start=t();this.end=this.start+this.duration;this.running=true;n.add(this)};r.prototype={tick:function(e){var t,n;if(!this.running){return false}if(e>this.end){if(this.step){this.step(1)}if(this.complete){this.complete(1)}return false}t=e-this.start;n=this.easing(t/this.duration);if(this.step){this.step(n)}return true},stop:function(){if(this.abort){this.abort()}this.running=false}};return r}(Y,y,O);var Zn=function(e){var t=new RegExp("^-(?:"+e.join("|")+")-");return function(e){return e.replace(t,"")}}(m);var er=function(e){var t=new RegExp("^(?:"+e.join("|")+")([A-Z])");return function(e){var n;if(!e){return""}if(t.test(e)){e="-"+e}n=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return n}}(m);var tr=function(e,t,n,r,i,s,o,u,a){var f,l,c,h,p,d,v,m={},g={};if(!e){return}f=n("div").style;(function(){if(f.transition!==undefined){l="transition";c="transitionend";h=true}else if(f.webkitTransition!==undefined){l="webkitTransition";c="webkitTransitionEnd";h=true}else{h=false}})();if(l){p=l+"Duration";d=l+"Property";v=l+"TimingFunction"}return function(e,n,f,l,h,y){setTimeout(function(){var b,w,E,S;S=function(){if(w&&E){y()}};b=e.node.namespaceURI+e.node.tagName;e.node.style[d]=l.map(o).map(a).join(",");e.node.style[v]=a(f.easing||"linear");e.node.style[p]=f.duration/1e3+"s";h=function(t){var n;n=l.indexOf(r(u(t.propertyName)));if(n!==-1){l.splice(n,1)}if(l.length){return}e.root.fire(e.name+":end");e.node.removeEventListener(c,h,false);E=true;S()};e.node.addEventListener(c,h,false);setTimeout(function(){var u=l.length,a,p,d,v=[],y;while(u--){y=l[u];a=b+y;if(m[a]){e.node.style[o(y)]=n[y]}else{p=e.getStyle(y)}if(m[a]===undefined){e.node.style[o(y)]=n[y];m[a]=e.getStyle(y)!=n[y];g[a]=!m[a]}if(g[a]){d=l.indexOf(y);if(d===-1){t("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!")}else{l.splice(d,1)}e.node.style[o(y)]=p;v.push({name:o(y),interpolator:i(p,n[y])})}}if(v.length){new s({root:e.root,duration:f.duration,easing:r(f.easing),step:function(t){var n,r;r=v.length;while(r--){n=v[r];e.node.style[n.name]=n.interpolator(t)}},complete:function(){w=true;S()}})}else{w=true}if(!l.length){e.node.removeEventListener(c,h,false);E=true;S()}},0)},f.delay||0)}}(u,Y,o,Gn,tt,Yn,Jn,Zn,er);var nr=function(e,t,n,r,i,s){var o;if(!t){return}o=window.getComputedStyle||e.getComputedStyle;return function(e,t,o,u){var a=this,f;if(typeof e==="string"){f={};f[e]=t}else{f=e;u=o;o=t}if(!o){n('The "'+a.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340');o=a;u=a.complete}var l=new r(function(e){var t,n,r,u,l,c,h,p;if(!o.duration){a.setStyle(f);e();return}t=Object.keys(f);n=[];r=window.getComputedStyle(a.node);l={};h=t.length;while(h--){p=t[h];u=r[i(p)];if(u==="0px"){u=0}if(u!=f[p]){n.push(p);a.node.style[i(p)]=u}}if(!n.length){e();return}s(a,f,o,n,c,e)});if(u){n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)");l.then(u)}return l}}(n,u,Y,d,Jn,tr);var rr=function(e,t){var n;for(n in t){if(t.hasOwnProperty(n)&&!(n in e)){e[n]=t[n]}}return e};var ir=function(e){return function(t,n){if(typeof t==="number"){t={duration:t}}else if(typeof t==="string"){if(t==="slow"){t={duration:600}}else if(t==="fast"){t={duration:200}}else{t={duration:400}}}else if(!t){t={}}return e(t,n)}}(rr);var sr=function(){if(this.originalStyle){this.node.setAttribute("style",this.originalStyle)}else{this.node.getAttribute("style");this.node.removeAttribute("style")}};var or=function(e,t,n,r,i,s,o,u){var a;a=function(n,r,i,s){var o=this,u,a,f;this.root=r;this.node=i.node;this.isIntro=s;this.originalStyle=this.node.getAttribute("style");o.complete=function(e){if(!e&&o.isIntro){o.resetStyle()}o.node._ractive.transition=null;o._manager.remove(o)};u=n.n||n;if(typeof u!=="string"){a=new t({descriptor:u,root:this.root,owner:i});u=a.toString();a.teardown()}this.name=u;if(n.a){this.params=n.a}else if(n.d){a=new t({descriptor:n.d,root:this.root,owner:i});this.params=a.toArgsList();a.teardown()}this._fn=r.transitions[u];if(!this._fn){f='Missing "'+u+'" transition. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#transitions';if(r.debug){throw new Error(f)}else{e(f)}return}};a.prototype={init:n,getStyle:r,setStyle:i,animateStyle:s,processParams:o,resetStyle:u};return a}(Y,Hn,$n,Kn,Qn,nr,ir,sr);var ur=function(e,t){return function(n,r,i,s){var o,u,a;if(!r.transitionsEnabled||r._parent&&!r._parent.transitionsEnabled){return}o=new t(n,r,i,s);if(o._fn){u=o.node;if(a=u._ractive.transition){a.complete()}u._ractive.transition=o;e.addTransition(o)}}}(A,or);var ar=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){function g(e){do{if(e.lcName==="select"){return e}}while(e=e.parent)}return function(b,w,E){var S,x,T,N,C,k,L,A,O,M,_,D;b.type=t.ELEMENT;S=b.parentFragment=w.parentFragment;x=S.pNode;T=b.descriptor=w.descriptor;b.parent=w.pElement;b.root=M=S.root;b.index=w.index;b.lcName=T.e.toLowerCase();b.eventListeners=[];b.customEventListeners=[];b.cssDetachQueue=[];if(x){N=b.namespace=a(T,x);C=N!==n.html?m(T.e):T.e;b.node=o(C,N);if(M.css&&x===M.el){b.node.setAttribute("data-rvcguid",M.constructor._guid||M._guid)}i(b.node,"_ractive",{value:{proxy:b,keypath:u(S),index:S.indexRefs,events:r(null),root:M}})}k=l(b,T.a);if(T.f){if(b.node&&b.node.getAttribute("contenteditable")){if(b.node.innerHTML){D="A pre-populated contenteditable element should not have children";if(M.debug){throw new Error(D)}else{s(D)}}}c(b,b.node,T,E)}if(E&&T.v){p(b,T.v)}if(E){if(M.twoway){b.bind();if(b.node.getAttribute("contenteditable")&&b.node._ractive.binding){b.node._ractive.binding.update()}}if(k.name&&!k.name.twoway){k.name.update()}if(b.node.tagName==="IMG"&&((L=b.attributes.width)||(A=b.attributes.height))){b.node.addEventListener("load",O=function(){if(L){b.node.width=L.value}if(A){b.node.height=A.value}b.node.removeEventListener("load",O,false)},false)}E.appendChild(b.node);if(T.o){h(T.o,M,b)}if(T.t1){v(T.t1,M,b,true)}if(b.node.tagName==="OPTION"){if(x.tagName==="SELECT"&&(_=x._ractive.binding)){_.deferUpdate()}if(!k.value){f(b,"value",T.f)}if(b.node._ractive.value==x._ractive.value){b.node.selected=true}}if(b.node.autofocus){e.focus(b.node)}}if(b.lcName==="option"){b.select=g(b.parent)}d(b)}}(A,B,s,Dt,a,Y,o,T,cn,jn,Fn,Rn,zn,Xn,Vn,ur,hn);var fr=function(e,t){function n(e){var t,n,r,i,s;i=e.liveQueries.length;while(i--){t=e.liveQueries[i];n=t.selector;t._remove(e.node);if(e.matchingStaticNodes&&(r=e.matchingStaticNodes[n])){s=r.length;while(s--){t.remove(r[s])}}}}return function(i){var s,o,u;if(i){this.willDetach=true;e.detachWhenReady(this)}if(this.fragment){this.fragment.teardown(false)}while(this.attributes.length){this.attributes.pop().teardown()}if(this.node){for(s in this.node._ractive.events){this.node._ractive.events[s].teardown()}if(o=this.node._ractive.binding){o.teardown();u=this.root._twowayBindings[o.attr.keypath];u.splice(u.indexOf(o),1)}}if(this.decorator){this.decorator.teardown()}if(this.descriptor.t2){t(this.descriptor.t2,this.root,this,false)}if(this.liveQueries){n(this)}}}(A,ur);var lr=function(e){return function(n,r,i,s){var o,u,a,f,l,c,h,p,d;o=this.attributes.length;while(o--){this.attributes[o].reassign(n,r,i,s)}if(u=this.node._ractive){e(u,"keypath",i,s);if(n!=undefined){u.index[n]=r}for(a in u.events){f=u.events[a].proxies;o=f.length;while(o--){l=f[o];if(typeof l.n==="object"){l.a.reassign(n,r,i,s)}if(l.d){l.d.reassign(n,r,i,s)}}}if(c=u.binding){if(c.keypath.substr(0,i.length)===i){h=u.root._twowayBindings[c.keypath];h.splice(h.indexOf(c),1);c.keypath=c.keypath.replace(i,s);h=u.root._twowayBindings[c.keypath]||(u.root._twowayBindings[c.keypath]=[]);h.push(c)}}}if(this.fragment){this.fragment.reassign(n,r,i,s)}if(p=this.liveQueries){d=this.root;o=p.length;while(o--){p[o]._makeDirty()}}}}(Ft);var cr="area base br col command doctype embed hr img input keygen link meta param source track wbr".split(" ");var hr=function(e,t){function n(e){var n,r,i,s,o;n=e.attributes.value.value;r=e.select.attributes.value;i=r.interpolator;if(!i){return}s=e.root.get(i.keypath||i.ref);if(s==n){return true}if(e.select.attributes.multiple&&t(s)){o=s.length;while(o--){if(s[o]==n){return true}}}}function r(e){var t,n,r,i;t=e.attributes;n=t.type;r=t.value;i=t.name;if(!n||n.value!=="radio"||!r||!i.interpolator){return}if(r.value===i.interpolator.value){return true}}return function(){var t,i,s,o;t="<"+(this.descriptor.y?"!doctype":this.descriptor.e);s=this.attributes.length;for(i=0;i<s;i+=1){if(o=this.attributes[i].toString()){t+=" "+o}}if(this.lcName==="option"&&n(this)){t+=" selected"}if(this.lcName==="input"&&r(this)){t+=" checked"}t+=">";if(this.html){t+=this.html}else if(this.fragment){t+=this.fragment.toString()}if(e.indexOf(this.descriptor.e)===-1){t+="</"+this.descriptor.e+">"}this.stringifying=false;return t}}(cr,M);var pr=function(e){return function(t){var n;if(e(this.node,t)){return this.node}if(this.html&&(n=this.node.querySelector(t))){return n}if(this.fragment&&this.fragment.find){return this.fragment.find(t)}}}(ot);var dr=function(e){return function(t,n){var r,i;if(n._test(this,true)&&n.live){(this.liveQueries||(this.liveQueries=[])).push(n)}if(this.html){r=e(this,t);n.push.apply(n,r);if(n.live&&!i){(this.liveQueries||(this.liveQueries=[])).push(n)}}if(this.fragment){this.fragment.findAll(t,n)}}}(qn);var vr=function(e){if(this.fragment){return this.fragment.findComponent(e)}};var mr=function(e,t){if(this.fragment){this.fragment.findAllComponents(e,t)}};var gr=function(){var e=this.attributes;if(!this.node){return}if(this.binding){this.binding.teardown();this.binding=null}if(this.node.getAttribute("contenteditable")&&e.value&&e.value.bind()){return}switch(this.descriptor.e){case"select":case"textarea":if(e.value){e.value.bind()}return;case"input":if(this.node.type==="radio"||this.node.type==="checkbox"){if(e.name&&e.name.bind()){return}if(e.checked&&e.checked.bind()){return}}if(e.value&&e.value.bind()){return}}};var yr=function(e,t,n,r,i,s,o,u,a,f,l){var c=function(e,t){n(this,e,t)};c.prototype={detach:function(){var n;if(this.node){if(this.node.parentNode){this.node.parentNode.removeChild(this.node)}return this.node}if(this.cssDetachQueue.length){e.start();while(n===this.cssDetachQueue.pop()){t.remove(n)}e.end()}},teardown:r,reassign:i,firstNode:function(){return this.node},findNextNode:function(){return null},bubble:function(){},toString:s,find:o,findAll:u,findComponent:a,findAllComponents:f,bind:l};return c}(A,E,ar,fr,lr,hr,pr,dr,vr,mr,gr);var br={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser"};var wr={};var Er=function(e){var t,n,r;r="";while(e.length){t=e.indexOf("<!--");n=e.indexOf("-->");if(t===-1&&n===-1){r+=e;break}if(t!==-1&&n===-1){throw"Illegal HTML - expected closing comment sequence ('-->')"}if(n!==-1&&t===-1||n<t){throw"Illegal HTML - unexpected closing comment sequence ('-->')"}r+=e.substr(0,t);e=e.substring(n+3)}return r};var Sr=function(e){return function(t){var n,r,i,s,o,u;o=/^\s*\r?\n/;u=/\r?\n\s*$/;for(n=2;n<t.length;n+=1){r=t[n];i=t[n-1];s=t[n-2];if(r.type===e.TEXT&&i.type===e.MUSTACHE&&i.mustacheType!==e.PARTIAL&&s.type===e.TEXT){if(u.test(s.value)&&o.test(r.value)){if(i.mustacheType!==e.INTERPOLATOR&&i.mustacheType!==e.TRIPLE){s.value=s.value.replace(u,"\n")}r.value=r.value.replace(o,"");if(r.value===""){t.splice(n--,1)}}}}return t}}(B);var xr=function(e){return function(t){var n,r,i,s;for(n=0;n<t.length;n+=1){r=t[n];i=t[n-1];s=t[n+1];if(r.mustacheType===e.COMMENT||r.mustacheType===e.DELIMCHANGE){t.splice(n,1);if(i&&s){if(i.type===e.TEXT&&s.type===e.TEXT){i.value+=s.value;t.splice(n,1)}}n-=1}}return t}}(B);var Tr=function(e){var t=e(/^[^\s=]+/);return function(e){var n,r,i;if(!e.getStringMatch("=")){return null}n=e.pos;e.allowWhitespace();r=t(e);if(!r){e.pos=n;return null}e.allowWhitespace();i=t(e);if(!i){e.pos=n;return null}e.allowWhitespace();if(!e.getStringMatch("=")){e.pos=n;return null}return[r,i]}}(Sn);var Nr=function(e){var t={"#":e.SECTION,"^":e.INVERTED,"/":e.CLOSING,">":e.PARTIAL,"!":e.COMMENT,"&":e.TRIPLE};return function(e){var n=t[e.str.charAt(e.pos)];if(!n){return null}e.pos+=1;return n}}(B);var Cr=function(e,t,n){function s(t){var n=[];while(t.t===e.MEMBER&&t.r.t===e.REFINEMENT){n.unshift(t.r);t=t.x}if(t.t!==e.REFERENCE){return null}return{r:t.n,m:n}}var r=t(/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/),i=/^[0-9][1-9]*$/;return function(t,o){var u,a,f,l,c,h,p,d,v;u=t.pos;a={type:o?e.TRIPLE:e.MUSTACHE};if(!o){if(l=t.getExpression()){a.mustacheType=e.INTERPOLATOR;t.allowWhitespace();if(t.getStringMatch(t.delimiters[1])){t.pos-=t.delimiters[1].length}else{t.pos=u;l=null}}if(!l){f=n(t);if(f===e.TRIPLE){a={type:e.TRIPLE}}else{a.mustacheType=f||e.INTERPOLATOR}if(f===e.COMMENT||f===e.CLOSING){h=t.remaining();p=h.indexOf(t.delimiters[1]);if(p!==-1){a.ref=h.substr(0,p);t.pos+=p;return a}}}}if(!l){t.allowWhitespace();l=t.getExpression();h=t.remaining();d=o?t.tripleDelimiters[1]:t.delimiters[1];if(h.substr(0,d.length)!==d&&h.charAt(0)!==":"){t.pos=u;h=t.remaining();p=h.indexOf(t.delimiters[1]);if(p!==-1){a.ref=h.substr(0,p).trim();t.pos+=p;return a}}}while(l.t===e.BRACKETED&&l.x){l=l.x}if(l.t===e.REFERENCE){a.ref=l.n}else if(l.t===e.NUMBER_LITERAL&&i.test(l.v)){a.ref=l.v}else if(v=s(l)){a.keypathExpression=v}else{a.expression=l}c=r(t);if(c!==null){a.indexRef=c}return a}}(B,Sn,Nr);var kr=function(e,t,n){function r(r,i){var s=r.pos,o,u;u=i?r.tripleDelimiters:r.delimiters;if(!r.getStringMatch(u[0])){return null}o=t(r);if(o){if(!r.getStringMatch(u[1])){r.pos=s;return null}r[i?"tripleDelimiters":"delimiters"]=o;return{type:e.MUSTACHE,mustacheType:e.DELIMCHANGE}}r.allowWhitespace();o=n(r,i);if(o===null){r.pos=s;return null}r.allowWhitespace();if(!r.getStringMatch(u[1])){r.pos=s;return null}return o}return function(){var e=this.tripleDelimiters[0].length>this.delimiters[0].length;return r(this,e)||r(this,!e)}}(B,Tr,Cr);var Lr=function(e){return function(){var t,n,r;if(!this.getStringMatch("<!--")){return null}n=this.remaining();r=n.indexOf("-->");if(r===-1){throw new Error('Unexpected end of input (expected "-->" to close comment)')}t=n.substr(0,r);this.pos+=r+3;return{type:e.COMMENT,content:t}}}(B);var Ar=function(e,t){var n,r,i;n=t.length;while(n--){r=e.indexOf(t[n]);if(!r){return 0}if(r===-1){continue}if(!i||r<i){i=r}}return i||-1};var Or=function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v;r=function(){return i(this)||s(this)};i=function(t){var n,r,i,s;n=t.pos;if(t.inside){return null}if(!t.getStringMatch("<")){return null}r={type:e.TAG};if(t.getStringMatch("!")){r.doctype=true}r.name=o(t);if(!r.name){t.pos=n;return null}i=u(t);if(i){r.attrs=i}t.allowWhitespace();if(t.getStringMatch("/")){r.selfClosing=true}if(!t.getStringMatch(">")){t.pos=n;return null}s=r.name.toLowerCase();if(s==="script"||s==="style"){t.inside=s}return r};s=function(t){var n,r,i;n=t.pos;i=function(e){throw new Error("Unexpected character "+t.remaining().charAt(0)+" (expected "+e+")")};if(!t.getStringMatch("<")){return null}r={type:e.TAG,closing:true};if(!t.getStringMatch("/")){i('"/"')}r.name=o(t);if(!r.name){i("tag name")}if(!t.getStringMatch(">")){i('">"')}if(t.inside){if(r.name.toLowerCase()!==t.inside){t.pos=n;return null}t.inside=null}return r};o=t(/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/);u=function(e){var t,n,r;t=e.pos;if(!e.getStringMatch(" ")&&!e.getStringMatch("\n")){return null}e.allowWhitespace();r=a(e);if(!r){e.pos=t;return null}n=[];while(r!==null){n.push(r);e.allowWhitespace();r=a(e)}return n};a=function(e){var t,n,r;n=f(e);if(!n){return null}t={name:n};r=l(e);if(r){t.value=r}return t};f=t(/^[^\s"'>\/=]+/);l=function(e){var t,n;t=e.pos;e.allowWhitespace();if(!e.getStringMatch("=")){e.pos=t;return null}e.allowWhitespace();n=v(e,"'")||v(e,'"')||c(e);if(n===null){e.pos=t;return null}return n};p=t(/^[^\s"'=<>`]+/);h=function(t){var n,r,i;n=t.pos;r=p(t);if(!r){return null}if((i=r.indexOf(t.delimiters[0]))!==-1){r=r.substr(0,i);t.pos=n+r.length}return{type:e.TEXT,value:r}};c=function(e){var t,n;t=[];n=e.getMustache()||h(e);while(n!==null){t.push(n);n=e.getMustache()||h(e)}if(!t.length){return null}return t};v=function(e,t){var n,r,i;n=e.pos;if(!e.getStringMatch(t)){return null}r=[];i=e.getMustache()||d(e,t);while(i!==null){r.push(i);i=e.getMustache()||d(e,t)}if(!e.getStringMatch(t)){e.pos=n;return null}return r};d=function(t,r){var i,s,o;i=t.pos;o=t.remaining();s=n(o,[r,t.delimiters[0],t.delimiters[1]]);if(s===-1){throw new Error("Quoted attribute value must have a closing quote")}if(!s){return null}t.pos+=s;return{type:e.TEXT,value:o.substr(0,s)}};return r}(B,Sn,Ar);var Mr=function(e,t){return function(){var n,r,i;r=this.remaining();i=this.inside?"</"+this.inside:"<";if(this.inside&&!this.interpolate[this.inside]){n=r.indexOf(i)}else{n=t(r,[i,this.delimiters[0],this.tripleDelimiters[0]])}if(!n){return null}if(n===-1){n=r.length}this.pos+=n;return{type:e.TEXT,value:r.substr(0,n)}}}(B,Ar);var _r=function(e){return function(t){var n=t.remaining();if(n.substr(0,4)==="true"){t.pos+=4;return{t:e.BOOLEAN_LITERAL,v:"true"}}if(n.substr(0,5)==="false"){t.pos+=5;return{t:e.BOOLEAN_LITERAL,v:"false"}}return null}}(B);var Dr=function(e,t){return function(n){var r,i,s;r=n.pos;n.allowWhitespace();i=t(n);if(i===null){n.pos=r;return null}n.allowWhitespace();if(!n.getStringMatch(":")){n.pos=r;return null}n.allowWhitespace();s=n.getExpression();if(s===null){n.pos=r;return null}return{t:e.KEY_VALUE_PAIR,k:i,v:s}}}(B,An);var Pr=function(e){return function t(n){var r,i,s,o;r=n.pos;s=e(n);if(s===null){return null}i=[s];if(n.getStringMatch(",")){o=t(n);if(!o){n.pos=r;return null}return i.concat(o)}return i}}(Dr);var Hr=function(e,t){return function(n){var r,i;r=n.pos;n.allowWhitespace();if(!n.getStringMatch("{")){n.pos=r;return null}i=t(n);n.allowWhitespace();if(!n.getStringMatch("}")){n.pos=r;return null}return{t:e.OBJECT_LITERAL,m:i}}}(B,Pr);var Br=function ps(e){var t,n,r,i;t=e.pos;e.allowWhitespace();r=e.getExpression();if(r===null){return null}n=[r];e.allowWhitespace();if(e.getStringMatch(",")){i=ps(e);if(i===null){e.pos=t;return null}n=n.concat(i)}return n};var jr=function(e,t){return function(n){var r,i;r=n.pos;n.allowWhitespace();if(!n.getStringMatch("[")){n.pos=r;return null}i=t(n);if(!n.getStringMatch("]")){n.pos=r;return null}return{t:e.ARRAY_LITERAL,m:i}}}(B,Br);var Fr=function(e,t,n,r,i){return function(s){var o=e(s)||t(s)||n(s)||r(s)||i(s);return o}}(kn,_r,Cn,Hr,jr);var Ir=function(e,t,n){var r,i,s,o;r=t(/^\.[a-zA-Z_$0-9]+/);i=function(e){var t=s(e);if(t){return"."+t}return null};s=t(/^\[(0|[1-9][0-9]*)\]/);o=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/;return function(t){var s,u,a,f,l,c,h;s=t.pos;u="";while(t.getStringMatch("../")){u+="../"}if(!u){f=t.getStringMatch(".")||""}a=n(t)||"";if(!u&&!f&&o.test(a)){return{t:e.GLOBAL,v:a}}if(a==="this"&&!u&&!f){a=".";s+=3}l=(u||f)+a;if(!l){return null}while(c=r(t)||i(t)){l+=c}if(t.getStringMatch("(")){h=l.lastIndexOf(".");if(h!==-1){l=l.substr(0,h);t.pos=s+l.length}else{t.pos-=1}}return{t:e.REFERENCE,n:l}}}(B,Sn,Ln);var qr=function(e){return function(t){var n,r;n=t.pos;if(!t.getStringMatch("(")){return null}t.allowWhitespace();r=t.getExpression();if(!r){t.pos=n;return null}t.allowWhitespace();if(!t.getStringMatch(")")){t.pos=n;return null}return{t:e.BRACKETED,x:r}}}(B);var Rr=function(e,t,n){return function(r){return e(r)||t(r)||n(r)}}(Fr,Ir,qr);var Ur=function(e,t){return function(r){var i,s,o;i=r.pos;r.allowWhitespace();if(r.getStringMatch(".")){r.allowWhitespace();if(s=t(r)){return{t:e.REFINEMENT,n:s}}r.expected("a property name")}if(r.getStringMatch("[")){r.allowWhitespace();o=r.getExpression();if(!o){r.expected("an expression")}r.allowWhitespace();if(!r.getStringMatch("]")){r.expected('"]"')}return{t:e.REFINEMENT,x:o}}return null}}(B,Ln);var zr=function(e,t,n,r){return function(i){var s,o,u,a;o=t(i);if(!o){return null}while(o){s=i.pos;if(u=r(i)){o={t:e.MEMBER,x:o,r:u}}else if(i.getStringMatch("(")){i.allowWhitespace();a=n(i);i.allowWhitespace();if(!i.getStringMatch(")")){i.pos=s;break}o={t:e.INVOCATION,x:o};if(a){o.o=a}}else{break}}return o}}(B,Rr,Br,Ur);var Wr=function(e,t){var n,r;r=function(t,n){return function(r){var i,s;if(!r.getStringMatch(t)){return n(r)}i=r.pos;r.allowWhitespace();s=r.getExpression();if(!s){r.expected("an expression")}return{s:t,o:s,t:e.PREFIX_OPERATOR}}};(function(){var e,i,s,o,u;o="! ~ + - typeof".split(" ");u=t;for(e=0,i=o.length;e<i;e+=1){s=r(o[e],u);u=s}n=u})();return n}(B,zr);var Xr=function(e,t){var n,r;r=function(t,n){return function(r){var i,s,o;s=n(r);if(!s){return null}while(true){i=r.pos;r.allowWhitespace();if(!r.getStringMatch(t)){r.pos=i;return s}if(t==="in"&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0))){r.pos=i;return s}r.allowWhitespace();o=n(r);if(!o){r.pos=i;return s}s={t:e.INFIX_OPERATOR,s:t,o:[s,o]}}}};(function(){var e,i,s,o,u;o="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" ");u=t;for(e=0,i=o.length;e<i;e+=1){s=r(o[e],u);u=s}n=u})();return n}(B,Wr);var Vr=function(e,t){return function(n){var r,i,s,o;i=t(n);if(!i){return null}r=n.pos;n.allowWhitespace();if(!n.getStringMatch("?")){n.pos=r;return i}n.allowWhitespace();s=n.getExpression();if(!s){n.pos=r;return i}n.allowWhitespace();if(!n.getStringMatch(":")){n.pos=r;return i}n.allowWhitespace();o=n.getExpression();if(!o){n.pos=r;return i}return{t:e.CONDITIONAL,o:[i,s,o]}}}(B,Xr);var $r=function(e){return function(){return e(this)}}(Vr);var Jr=function(e,t,n,r,i,s,o){var u;u=function(e,t){var n;this.str=e;this.pos=0;this.delimiters=t.delimiters;this.tripleDelimiters=t.tripleDelimiters;this.interpolate=t.interpolate;this.tokens=[];while(this.pos<this.str.length){n=this.getToken();if(n===null&&this.remaining()){this.fail()}this.tokens.push(n)}};u.prototype={getToken:function(){var e=this.getMustache()||this.getComment()||this.getTag()||this.getText();return e},getMustache:e,getComment:t,getTag:n,getText:r,getExpression:i,allowWhitespace:s,getStringMatch:o,remaining:function(){return this.str.substring(this.pos)},fail:function(){var e,t;e=this.str.substr(0,this.pos).substr(-20);if(e.length===20){e="..."+e}t=this.remaining().substr(0,20);if(t.length===20){t=t+"..."}throw new Error("Could not parse template: "+(e?e+"<- ":"")+"failed at character "+this.pos+" ->"+t)},expected:function(e){var t=this.remaining().substr(0,40);if(t.length===40){t+="..."}throw new Error('Tokenizer failed: unexpected string "'+t+'" (expected '+e+")")}};return u}(kr,Lr,Or,Mr,$r,En,wn);var Kr=function(e,t,n,r,i){return function(s,o){var u,a;o=o||{};if(o.stripComments!==false){s=t(s)}u=new i(s,{delimiters:o.delimiters||e.defaults.delimiters,tripleDelimiters:o.tripleDelimiters||e.defaults.tripleDelimiters,interpolate:{script:o.interpolateScripts!==false?true:false,style:o.interpolateStyles!==false?true:false}});a=u.tokens;n(a);r(a);return a}}(r,Er,Sr,xr,Jr);var Qr=function(e){var t,n,r,i,s,o,u,a,f;t=function(e,t){this.text=t?e.value:e.value.replace(f," ")};t.prototype={type:e.TEXT,toJSON:function(){return this.decoded||(this.decoded=a(this.text))},toString:function(){return this.text}};n={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};r=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376];i=new RegExp("&("+Object.keys(n).join("|")+");?","g");s=/&#x([0-9]+);?/g;o=/&#([0-9]+);?/g;u=function(e){if(!e){return 65533}if(e===10){return 32}if(e<128){return e}if(e<=159){return r[e-128]}if(e<55296){return e}if(e<=57343){return 65533}if(e<=65535){return e}return 65533};a=function(e){var t;t=e.replace(i,function(e,t){if(n[t]){return String.fromCharCode(n[t])}return e});t=t.replace(s,function(e,t){return String.fromCharCode(u(parseInt(t,16)))});t=t.replace(o,function(e,t){return String.fromCharCode(u(t))});return t};f=/\s+/g;return t}(B);var Gr=function(e,t){return function(n,r){if(n.type===e.TEXT){this.pos+=1;return new t(n,r)}return null}}(B,Qr);var Yr=function(e){var t;t=function(e){this.content=e.content};t.prototype={toJSON:function(){return{t:e.COMMENT,f:this.content}},toString:function(){return"<!--"+this.content+"-->"}};return t}(B);var Zr=function(e,t){return function(n){if(n.type===e.COMMENT){this.pos+=1;return new t(n,this.preserveWhitespace)}return null}}(B,Yr);var ei=function(e,t){function r(e){return JSON.stringify(String(e))}function i(n,r){var s,o;if(n.t===e.REFERENCE){if(r.indexOf(n.n)===-1){r.unshift(n.n)}}o=n.o||n.m;if(o){if(t(o)){i(o,r)}else{s=o.length;while(s--){i(o[s],r)}}}if(n.x){i(n.x,r)}if(n.r){i(n.r,r)}if(n.v){i(n.v,r)}}function s(t,n){var i=function(e){return s(e,n)};switch(t.t){case e.BOOLEAN_LITERAL:case e.GLOBAL:case e.NUMBER_LITERAL:return t.v;case e.STRING_LITERAL:return r(t.v);case e.ARRAY_LITERAL:return"["+(t.m?t.m.map(i).join(","):"")+"]";case e.OBJECT_LITERAL:return"{"+(t.m?t.m.map(i).join(","):"")+"}";case e.KEY_VALUE_PAIR:return t.k+":"+s(t.v,n);case e.PREFIX_OPERATOR:return(t.s==="typeof"?"typeof ":t.s)+s(t.o,n);case e.INFIX_OPERATOR:return s(t.o[0],n)+(t.s.substr(0,2)==="in"?" "+t.s+" ":t.s)+s(t.o[1],n);case e.INVOCATION:return s(t.x,n)+"("+(t.o?t.o.map(i).join(","):"")+")";case e.BRACKETED:return"("+s(t.x,n)+")";case e.MEMBER:return s(t.x,n)+s(t.r,n);case e.REFINEMENT:return t.n?"."+t.n:"["+s(t.x,n)+"]";case e.CONDITIONAL:return s(t.o[0],n)+"?"+s(t.o[1],n)+":"+s(t.o[2],n);case e.REFERENCE:return"${"+n.indexOf(t.n)+"}";default:throw new Error("Could not stringify expression token. This error is unexpected")}}var n=function(e){this.refs=[];i(e,this.refs);this.str=s(e,this.refs)};n.prototype={toJSON:function(){if(!this.json){this.json={r:this.refs,s:this.str}}return this.json}};return n}(B,Z);var ti=function(e,t){function r(n){if(n.n){return n.n}if(n.x.t===e.STRING_LITERAL||n.x.t===e.NUMBER_LITERAL){return n.x.v}if(n.x.t===e.REFERENCE){return n.x}return(new t(n.x)).toJSON()}var n;n=function(e){this.json={r:e.r,m:e.m.map(r)}};n.prototype={toJSON:function(){return this.json}};return n}(B,ei);var ni=function(e,t,n){var r=function(r,i){this.type=r.type===e.TRIPLE?e.TRIPLE:r.mustacheType;if(r.ref){this.ref=r.ref}if(r.keypathExpression){this.keypathExpr=new t(r.keypathExpression)}if(r.expression){this.expr=new n(r.expression)}i.pos+=1};r.prototype={toJSON:function(){var e;if(this.json){return this.json}e={t:this.type};if(this.ref){e.r=this.ref}if(this.keypathExpr){e.kx=this.keypathExpr.toJSON()}if(this.expr){e.x=this.expr.toJSON()}this.json=e;return e},toString:function(){return false}};return r}(B,ti,ei);var ri=function(e){var t="",n,r,i;if(!e){return""}for(r=0,i=e.length;r<i;r+=1){n=e[r].toString();if(n===false){return false}t+=n}return t};var ii=function(e){return function(t,n,r){var i,s;if(!r&&!n){i=e(t);if(i!==false){return i}}s=t.map(function(e){return e.toJSON(n)});return s}}(ri);var si=function(e,t,n,r,i){function o(e,n){var r=e.ref,i=t(n.ref.trim());if(!r||!i){return}if(e.indexRef){r+=":"+e.indexRef}if(r.substr(0,i.length)!==i){throw new Error("Could not parse template: Illegal closing section {{/"+i+"}}. Expected {{/"+e.ref+"}}.")}}var s=function(t,n){var s;this.ref=t.ref;this.indexRef=t.indexRef;this.inverted=t.mustacheType===e.INVERTED;if(t.keypathExpression){this.keypathExpr=new r(t.keypathExpression)}if(t.expression){this.expr=new i(t.expression)}n.pos+=1;this.items=[];s=n.next();while(s){if(s.mustacheType===e.CLOSING){o(this,s);n.pos+=1;break}this.items.push(n.getStub());s=n.next()}};s.prototype={toJSON:function(t){var r;if(this.json){return this.json}r={t:e.SECTION};if(this.ref){r.r=this.ref}if(this.indexRef){r.i=this.indexRef}if(this.inverted){r.n=true}if(this.expr){r.x=this.expr.toJSON()}if(this.keypathExpr){r.kx=this.keypathExpr.toJSON()}if(this.items.length){r.f=n(this.items,t)}this.json=r;return r},toString:function(){return false}};return s}(B,v,ii,ti,ei);var oi=function(e,t,n){return function(r){if(r.type===e.MUSTACHE||r.type===e.TRIPLE){if(r.mustacheType===e.SECTION||r.mustacheType===e.INVERTED){return new n(r,this)}return new t(r,this)}}}(B,ni,si);var ui={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote dir div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rp","rt"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tr:["tr"],td:["td","th"],th:["td","th"]};var ai=function(e){function t(n){var r,i;if(typeof n!=="object"){return n}if(e(n)){return n.map(t)}r={};for(i in n){if(n.hasOwnProperty(i)){r[i]=t(n[i])}}return r}return function(e){var n,r,i,s,o,u;i={};n=[];r=[];o=e.length;for(s=0;s<o;s+=1){u=e[s];if(u.name==="intro"){if(i.intro){throw new Error("An element can only have one intro transition")}i.intro=u}else if(u.name==="outro"){if(i.outro){throw new Error("An element can only have one outro transition")}i.outro=u}else if(u.name==="intro-outro"){if(i.intro||i.outro){throw new Error("An element can only have one intro and one outro transition")}i.intro=u;i.outro=t(u)}else if(u.name.substr(0,6)==="proxy-"){u.name=u.name.substring(6);r.push(u)}else if(u.name.substr(0,3)==="on-"){u.name=u.name.substring(3);r.push(u)}else if(u.name==="decorator"){i.decorator=u}else{n.push(u)}}i.attrs=n;i.proxies=r;return i}}(M);var fi=function(e,t){return function(n){var r,i,s,o,u,a,f,l;u=function(){throw new Error("Illegal directive")};if(!n.name||!n.value){u()}r={directiveType:n.name};i=n.value;a=[];f=[];while(i.length){s=i.shift();if(s.type===e.TEXT){o=s.value.indexOf(":");if(o===-1){a.push(s)}else{if(o){a.push({type:e.TEXT,value:s.value.substr(0,o)})}if(s.value.length>o+1){f[0]={type:e.TEXT,value:s.value.substring(o+1)}}break}}else{a.push(s)}}f=f.concat(i);if(a.length===1&&a[0].type===e.TEXT){r.name=a[0].value}else{r.name=a}if(f.length){if(f.length===1&&f[0].type===e.TEXT){l=t("["+f[0].value+"]");r.args=l?l.value:f[0].value}else{r.dynamicArgs=f}}return r}}(B,On);var li=function(e,t){var n;n=function(e,t){var n;this.tokens=e||[];this.pos=0;this.options=t;this.result=[];while(n=this.getStub()){this.result.push(n)}};n.prototype={getStub:function(){var e=this.next();if(!e){return null}return this.getText(e)||this.getMustache(e)},getText:e,getMustache:t,next:function(){return this.tokens[this.pos]}};return n}(Gr,oi);var ci=function(e,t,n){var r;r=function(t){var n=new e(t);this.stubs=n.result};r.prototype={toJSON:function(e){var t;if(this["json_"+e]){return this["json_"+e]}t=this["json_"+e]=n(this.stubs,e);return t},toString:function(){if(this.str!==undefined){return this.str}this.str=t(this.stubs);return this.str}};return r}(li,ri,ii);var hi=function(e){return function(t){var n,r;if(typeof t.name==="string"){if(!t.args&&!t.dynamicArgs){return t.name}r=t.name}else{r=(new e(t.name)).toJSON()}n={n:r};if(t.args){n.a=t.args;return n}if(t.dynamicArgs){n.d=(new e(t.dynamicArgs)).toJSON()}return n}}(ci);var pi=function(e,t,n){return function(r){var i,s,o,u,a,f,l;if(this["json_"+r]){return this["json_"+r]}i={t:e.ELEMENT,e:this.tag};if(this.doctype){i.y=1}if(this.attributes&&this.attributes.length){i.a={};f=this.attributes.length;for(a=0;a<f;a+=1){l=this.attributes[a];s=l.name;if(i.a[s]){throw new Error("You cannot have multiple attributes with the same name")}if(l.value===null){o=null}else{o=l.value.toJSON(r)}i.a[s]=o}}if(this.items&&this.items.length){i.f=t(this.items,r)}if(this.proxies&&this.proxies.length){i.v={};f=this.proxies.length;for(a=0;a<f;a+=1){u=this.proxies[a];i.v[u.directiveType]=n(u)}}if(this.intro){i.t1=n(this.intro)}if(this.outro){i.t2=n(this.outro)}if(this.decorator){i.o=n(this.decorator)}this["json_"+r]=i;return i}}(B,ii,hi);var di=function(e,t){var n;n="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" ");return function(){var r,i,s,o,u,a,f,l;if(this.str!==undefined){return this.str}if(n.indexOf(this.tag.toLowerCase())===-1){return this.str=false}if(this.proxies||this.intro||this.outro||this.decorator){return this.str=false}f=e(this.items);if(f===false){return this.str=false}l=t.indexOf(this.tag.toLowerCase())!==-1;r="<"+this.tag;if(this.attributes){for(i=0,s=this.attributes.length;i<s;i+=1){u=this.attributes[i].name;if(u.indexOf(":")!==-1){return this.str=false}if(u==="id"||u==="intro"||u==="outro"){return this.str=false}o=" "+u;if(this.attributes[i].value!==null){a=this.attributes[i].value.toString();if(a===false){return this.str=false}if(a!==""){o+="=";if(/[\s"'=<>`]/.test(a)){o+='"'+a.replace(/"/g,"&quot;")+'"'}else{o+=a}}}r+=o}}if(this.selfClosing&&!l){r+="/>";return this.str=r}r+=">";if(l){return this.str=r}r+=f;r+="</"+this.tag+">";return this.str=r}}(ri,cr);var vi=function(e,t,n,r,i,s,o,u,a){var f,l,c,h,p,d=/^\s+/,v=/\s+$/;f=function(o,u,f){var l,c,h,m,g,y,b;u.pos+=1;y=function(e){return{name:e.name,value:e.value?new a(e.value):null}};this.tag=o.name;b=o.name.toLowerCase();if(b.substr(0,3)==="rv-"){n('The "rv-" prefix for components has been deprecated. Support will be removed in a future version');this.tag=this.tag.substring(3)}f=f||b==="pre"||b==="style"||b==="script";if(o.attrs){h=i(o.attrs);c=h.attrs;m=h.proxies;if(u.options.sanitize&&u.options.sanitize.eventAttributes){c=c.filter(p)}if(c.length){this.attributes=c.map(y)}if(m.length){this.proxies=m.map(s)}if(h.intro){this.intro=s(h.intro)}if(h.outro){this.outro=s(h.outro)}if(h.decorator){this.decorator=s(h.decorator)}}if(o.doctype){this.doctype=true}if(o.selfClosing){this.selfClosing=true}if(t.indexOf(b)!==-1){this.isVoid=true}if(this.selfClosing||this.isVoid){return}this.siblings=r[b];this.items=[];l=u.next();while(l){if(l.mustacheType===e.CLOSING){break}if(l.type===e.TAG){if(l.closing){if(l.name.toLowerCase()===b){u.pos+=1}break}else if(this.siblings&&this.siblings.indexOf(l.name.toLowerCase())!==-1){break}}this.items.push(u.getStub(f));l=u.next()}if(!f){g=this.items[0];if(g&&g.type===e.TEXT){g.text=g.text.replace(d,"");if(!g.text){this.items.shift()}}g=this.items[this.items.length-1];if(g&&g.type===e.TEXT){g.text=g.text.replace(v,"");if(!g.text){this.items.pop()}}}};f.prototype={toJSON:o,toString:u};l="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" ");c="li dd rt rp optgroup option tbody tfoot tr td th".split(" ");h=/^on[a-zA-Z]/;p=function(e){var t=!h.test(e.name);return t};return f}(B,cr,Y,ui,ai,fi,pi,di,ci);var mi=function(e){return function(t){if(this.options.sanitize&&this.options.sanitize.elements){if(this.options.sanitize.elements.indexOf(t.name.toLowerCase())!==-1){return null}}return new e(t,this,this.preserveWhitespace)}}(vi);var gi=function(e,t,n,r,i){var s;s=function(e,t){var n,r;this.tokens=e||[];this.pos=0;this.options=t;this.preserveWhitespace=t.preserveWhitespace;r=[];while(n=this.getStub()){r.push(n)}this.result=i(r,t.noStringify,true)};s.prototype={getStub:function(e){var t=this.next();if(!t){return null}return this.getText(t,this.preserveWhitespace||e)||this.getComment(t)||this.getMustache(t)||this.getElement(t)},getText:e,getComment:t,getMustache:n,getElement:r,next:function(){return this.tokens[this.pos]}};return s}(Gr,Zr,oi,mi,ii);var yi=function(e,t,n){var r,i,s,o,u;i=/^\s*$/;s=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/;o=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/;r=function(r,o){var a,f,l;o=o||{};if(s.test(r)){return u(r,o)}if(o.sanitize===true){o.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:true}}a=e(r,o);if(!o.preserveWhitespace){l=a[0];if(l&&l.type===t.TEXT&&i.test(l.value)){a.shift()}l=a[a.length-1];if(l&&l.type===t.TEXT&&i.test(l.value)){a.pop()}}f=(new n(a,o)).result;if(typeof f==="string"){return[f]}return f};u=function(e,t){var n,i,u,a,f,l;u={};n="";i=e;while(f=s.exec(i)){a=f[1];n+=i.substr(0,f.index);i=i.substring(f.index+f[0].length);l=o.exec(i);if(!l||l[1]!==a){throw new Error("Inline partials must have a closing delimiter, and cannot be nested")}u[a]=r(i.substr(0,l.index),t);i=i.substring(l.index+l[0].length)}return{main:r(n,t),partials:u}};return r}(Kr,B,gi);var bi=function(){function n(e,n){var r=t.exec(n)[0];if(e===null||r.length<e.length){return r}return e}var e=/^\s*$/,t=/^\s*/;return function(t){var r,i,s,o;r=t.split("\n");i=r[0];if(i!==undefined&&e.test(i)){r.shift()}s=r[r.length-1];if(s!==undefined&&e.test(s)){r.pop()}o=r.reduce(n,null);if(o){t=r.map(function(e){return e.replace(o,"")}).join("\n")}return t}}();var wi=function(e,t,n,r,i,s,o){var u,a,f,l;u=function(r,u){var c,h,p;if(h=f(r,u)){return h}if(t){c=document.getElementById(u);if(c&&c.tagName==="SCRIPT"){if(!s){throw new Error(e.missingParser)}a(s(o(c.text),r.parseOptions),u,i)}}h=i[u];if(!h){p='Could not find descriptor for partial "'+u+'"';if(r.debug){throw new Error(p)}else{n(p)}return[]}return l(h)};f=function(t,n){var r;if(t.partials[n]){if(typeof t.partials[n]==="string"){if(!s){throw new Error(e.missingParser)}r=s(t.partials[n],t.parseOptions);a(r,n,t.partials)}return l(t.partials[n])}};a=function(e,t,n){var i;if(r(e)){n[t]=e.main;for(i in e.partials){if(e.partials.hasOwnProperty(i)){n[i]=e.partials[i]}}}else{n[t]=e}};l=function(e){if(e.length===1&&typeof e[0]==="string"){return e[0]}return e};return u}(br,u,Y,Z,wr,yi,bi);var Ei=function(e,t){var n;if(!t){return e}n=e.split("\n").map(function(e,n){return n?t+e:e}).join("\n");return n};var Si=function(e,t,n,r){var i,s;r.push(function(){s=r.DomFragment});i=function(n,r){var i=this.parentFragment=n.parentFragment,o;this.type=e.PARTIAL;this.name=n.descriptor.r;this.index=n.index;if(!n.descriptor.r){throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.")}o=t(i.root,n.descriptor.r);this.fragment=new s({descriptor:o,root:i.root,pNode:i.pNode,owner:this});if(r){r.appendChild(this.fragment.docFrag)}};i.prototype={firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},reassign:function(e,t,n,r){return this.fragment.reassign(e,t,n,r)},teardown:function(e){this.fragment.teardown(e)},toString:function(){var t,r,i,s;t=this.fragment.toString();r=this.parentFragment.items[this.index-1];if(!r||r.type!==e.TEXT){return t}i=r.descriptor.split("\n").pop();if(s=/^\s+$/.exec(i)){return n(t,s[0])}return t},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)}};return i}(B,wi,Ei,b);var xi=function(e,t){var n=function(e,n,r){this.parentFragment=e.parentFragment;this.component=e;this.key=n;this.fragment=new t({descriptor:r,root:e.root,owner:this});this.selfUpdating=this.fragment.isSimple();this.value=this.fragment.getValue()};n.prototype={bubble:function(){if(this.selfUpdating){this.update()}else if(!this.deferred&&this.ready){e.addAttribute(this);this.deferred=true}},update:function(){var e=this.fragment.getValue();this.component.instance.set(this.key,e);this.value=e},teardown:function(){this.fragment.teardown()}};return n}(A,Hn);var Ti=function(e,t,n,r,i){function s(s,o,u,a){var f,l,c,h,p,d;c=s.root;h=s.parentFragment;if(typeof u==="string"){l=t(u);return l?l.value:u}if(u===null){return true}if(u.length===1&&u[0].t===e.INTERPOLATOR&&u[0].r){if(h.indexRefs&&h.indexRefs[d=u[0].r]!==undefined){s.indexRefBindings[d]=o;return h.indexRefs[d]}p=n(c,u[0].r,h)||u[0].r;a.push({childKeypath:o,parentKeypath:p});return r(c,p)}f=new i(s,o,u);s.complexParameters.push(f);return f.value}return function(e,t,n,r){var i,o,u;i={};e.complexParameters=[];for(o in n){if(n.hasOwnProperty(o)){u=s(e,o,n[o],r);if(u!==undefined||t[o]===undefined){i[o]=u}}}return i}}(B,On,N,G,xi);var Ni=function(){function e(e,t){var n,r,i;if(e.adapt.length){n=e.adapt.map(function(t){if(typeof t==="object"){return t}return e.adaptors[t]||t})}else{n=[]}if(r=t.length){for(i=0;i<r;i+=1){if(n.indexOf(t[i])===-1){n.push(t[i])}}}return n}return function(t,n,r,i,s){var o,u,a,f,l;u=t.parentFragment;f=t.root;a={content:s||[]};l=e(f,n.defaults.adapt,n.adaptors);o=new n({el:u.pNode,append:true,data:r,partials:a,magic:f.magic||n.defaults.magic,modifyArrays:f.modifyArrays,_parent:f,_component:t,adapt:l});if(i){o.insert(i);o.fragment.pNode=o.el=u.pNode}return o}}();var Ci=function(e,t,n){return function(i,s){s.forEach(function(s){var o,u;e(i,i.root,s.parentKeypath,s.childKeypath);o=t(i.instance,s.childKeypath);u=t(i.root,s.parentKeypath);if(o!==undefined&&u===undefined){n(i.root,s.parentKeypath,o)}})}}(J,G,I);var ki=function(e){function n(n,r,i,s){if(typeof s!=="string"){if(r.debug){throw new Error(t)}else{e(t);return}}n.on(i,function(){var e=Array.prototype.slice.call(arguments);e.unshift(s);r.fire.apply(r,e)})}var t="Components currently only support simple events - you cannot include arguments. Sorry!";return function(e,t){var r;for(r in t){if(t.hasOwnProperty(r)){n(e.instance,e.root,r,t[r])}}}}(Y);var Li=function(e){var t,n;t=e.root;while(t){if(n=t._liveComponentQueries[e.name]){n.push(e.instance)}t=t._parent}};var Ai=function(e,t,n,r,i,s,o){return function(a,f,l){var c,h,p,d,v;c=a.parentFragment=f.parentFragment;h=c.root;a.root=h;a.type=e.COMPONENT;a.name=f.descriptor.e;a.index=f.index;a.indexRefBindings={};a.bindings=[];p=h.components[f.descriptor.e];if(!p){throw new Error('Component "'+f.descriptor.e+'" not found')}v=[];d=n(a,p.data||{},f.descriptor.a,v);r(a,p,d,l,f.descriptor.f);i(a,v);s(a,f.descriptor.v);if(f.descriptor.t1||f.descriptor.t2||f.descriptor.o){t('The "intro", "outro" and "decorator" directives have no effect on components')}o(a)}}(B,Y,Ti,Ni,Ci,ki,Li);var Oi=function(e,t){function r(e){var t,n;t=e.root;do{if(n=t._liveComponentQueries[e.name]){n._remove(e)}}while(t=t._parent)}var n=function(t,n){e(this,t,n)};n.prototype={firstNode:function(){return this.instance.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.instance.fragment.detach()},teardown:function(e){while(this.complexParameters.length){this.complexParameters.pop().teardown()}while(this.bindings.length){this.bindings.pop().teardown()}r(this);this.shouldDestroy=e;this.instance.teardown()},reassign:function(e,n,r,i){var s=this.instance,o=s._parent,u,a;this.bindings.forEach(function(u){var a;if(u.root!==o){return}if(u.keypath===e){s.set(u.otherKeypath,n)}if(a=t(u.keypath,r,i)){u.reassign(a)}});if(u=this.indexRefBindings[e]){s.set(u,n)}if(a=this.root._liveComponentQueries[this.name]){a._makeDirty()}},toString:function(){return this.instance.fragment.toString()},find:function(e){return this.instance.fragment.find(e)},findAll:function(e,t){return this.instance.fragment.findAll(e,t)},findComponent:function(e){if(!e||e===this.name){return this.instance}if(this.instance.fragment){return this.instance.fragment.findComponent(e)}return null},findAllComponents:function(e,t){t._test(this,true);if(this.instance.fragment){this.instance.fragment.findAllComponents(e,t)}}};return n}(Ai,jt);var Mi=function(e,t){var n=function(t,n){this.type=e.COMMENT;this.descriptor=t.descriptor;if(n){this.node=document.createComment(t.descriptor.f);n.appendChild(this.node)}};n.prototype={detach:t,teardown:function(e){if(e){this.detach()}},firstNode:function(){return this.node},toString:function(){return"<!--"+this.descriptor.f+"-->"}};return n}(B,Ut);var _i=function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=function(e){if(e.pNode){this.docFrag=document.createDocumentFragment()}if(typeof e.descriptor==="string"){this.html=e.descriptor;if(this.docFrag){this.nodes=r(this.html,e.pNode.tagName,e.pNode.namespaceURI,this.docFrag)}}else{n.init(this,e)}};p.prototype={reassign:n.reassign,detach:function(){var e,t;if(this.docFrag){if(this.nodes){e=this.nodes.length;for(t=0;t<e;t+=1){this.docFrag.appendChild(this.nodes[t])}}else if(this.items){e=this.items.length;for(t=0;t<e;t+=1){this.docFrag.appendChild(this.items[t].detach())}}return this.docFrag}},createItem:function(t){if(typeof t.descriptor==="string"){return new i(t,this.docFrag)}switch(t.descriptor.t){case e.INTERPOLATOR:return new s(t,this.docFrag);case e.SECTION:return new o(t,this.docFrag);case e.TRIPLE:return new u(t,this.docFrag);case e.ELEMENT:if(this.root.components[t.descriptor.e]){return new l(t,this.docFrag)}return new a(t,this.docFrag);case e.PARTIAL:return new f(t,this.docFrag);case e.COMMENT:return new c(t,this.docFrag);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/RactiveJS/Ractive/issues. Thanks!")}},teardown:function(e){var t;if(this.nodes&&e){while(t=this.nodes.pop()){t.parentNode.removeChild(t)}}else if(this.items){while(this.items.length){this.items.pop().teardown(e)}}this.nodes=this.items=this.docFrag=null},firstNode:function(){if(this.items&&this.items[0]){return this.items[0].firstNode()}else if(this.nodes){return this.nodes[0]||null}return null},findNextNode:function(e){var t=e.index;if(this.items[t+1]){return this.items[t+1].firstNode()}if(this.owner===this.root){if(!this.owner.component){return null}return this.owner.component.findNextNode()}return this.owner.findNextNode(this)},toString:function(){var e,t,n,r;if(this.html){return this.html}e="";if(!this.items){return e}n=this.items.length;for(t=0;t<n;t+=1){r=this.items[t];e+=r.toString()}return e},find:function(e){var n,r,i,s,o;if(this.nodes){r=this.nodes.length;for(n=0;n<r;n+=1){s=this.nodes[n];if(s.nodeType!==1){continue}if(t(s,e)){return s}if(o=s.querySelector(e)){return o}}return null}if(this.items){r=this.items.length;for(n=0;n<r;n+=1){i=this.items[n];if(i.find&&(o=i.find(e))){return o}}return null}},findAll:function(e,n){var r,i,s,o,u,a,f;if(this.nodes){i=this.nodes.length;for(r=0;r<i;r+=1){o=this.nodes[r];if(o.nodeType!==1){continue}if(t(o,e)){n.push(o)}if(u=o.querySelectorAll(e)){a=u.length;for(f=0;f<a;f+=1){n.push(u[f])}}}}else if(this.items){i=this.items.length;for(r=0;r<i;r+=1){s=this.items[r];if(s.findAll){s.findAll(e,n)}}}return n},findComponent:function(e){var t,n,r,i;if(this.items){t=this.items.length;for(n=0;n<t;n+=1){r=this.items[n];if(r.findComponent&&(i=r.findComponent(e))){return i}}return null}},findAllComponents:function(e,t){var n,r,i;if(this.items){r=this.items.length;for(n=0;n<r;n+=1){i=this.items[n];if(i.findAllComponents){i.findAllComponents(e,t)}}}return t}};h.DomFragment=p;return p}(B,ot,qt,Rt,zt,nn,fn,ln,yr,Si,Oi,Mi,b);var Di=function(e,t,n){function r(e){var t;while(t=e._childInitQueue.pop()){if(t.instance.init){t.instance.init(t.options)}r(t.instance)}}return function(s,o){this._rendering=true;e.start(this,o);if(!this._initing){throw new Error("You cannot call ractive.render() directly!")}if(this.constructor.css){t.add(this.constructor)}this.fragment=new n({descriptor:this.template,root:this,owner:this,pNode:s});if(s){s.appendChild(this.fragment.docFrag)}if(!this._parent||!this._parent._rendering){r(this)}delete this._rendering;e.end()}}(A,E,_i);var Pi=function(e){return function(){e("renderHTML() has been deprecated and will be removed in a future version. Please use toHTML() instead");return this.toHTML()}}(Y);var Hi=function(e,t,n,r){return function(i,s){var o,u,a;if(typeof i==="function"){s=i;i={}}else{i=i||{}}if(typeof i!=="object"){throw new Error("The reset method takes either no arguments, or an object containing new data")}o=new e(function(e){u=e});if(s){o.then(s)}t.start(this,u);if((a=this._wrapped[""])&&a.reset){if(a.reset(i)===false){this.data=i}}else{this.data=i}n(this,"");r(this,"");t.end();this.fire("reset",i);return o}}(d,A,j,k);var Bi=function(e,t,n,r,i){return function(o,u,a){var f,l,c;l=new r(function(e){c=e});e.start(this,c);if(t(o)){f=o;a=u;for(o in f){if(f.hasOwnProperty(o)){u=f[o];o=n(o);i(this,o,u)}}}else{o=n(o);i(this,o,u)}e.end();if(a){l.then(a.bind(this))}return l}}(A,Z,v,d,I);var ji=function(e){return function(t,n){return e(this,t,n===undefined?-1:-n)}}(c);var Fi=function(e,t,n,r,i){return function(s){var o,u,a,f,l,c,h,p;this.fire("teardown");f=!this.component||this.component.shouldDestroy;if(this.constructor.css){if(f){l=s;s=function(){if(l){l.call(this)}t.remove(this.constructor)}}else{c=this.component.parentFragment;do{if(c.owner.type!==e.ELEMENT){continue}if(c.owner.willDetach){h=c.owner}}while(!h&&(c=c.parent));if(!h){throw new Error("A component is being torn down but doesn't have a nearest detaching element... this shouldn't happen!")}h.cssDetachQueue.push(this.constructor)}}u=new r(function(e){a=e});n.start(this,a);this.fragment.teardown(f);while(this._animations[0]){this._animations[0].stop()}for(o in this._cache){i(this,o)}while(p=this._unresolvedImplicitDependencies.pop()){p.teardown()}n.end();if(s){u.then(s.bind(this))}return u}}(B,E,A,d,j);var Ii=function(){return this.fragment.toString()};var qi=function(e,t){var n;if(typeof e!=="string"){if(this.debug){throw new Error("Bad arguments")}return}n=this.get(e);return this.set(e,!n,t)};var Ri=function(e,t,n,r){return function(i,s){var o,u;if(typeof i==="function"){s=i;i=""}else{i=i||""}o=new t(function(e){u=e});e.start(this,u);n(this,i);r(this,i);e.end();this.fire("update",i);if(s){o.then(s.bind(this))}return o}}(A,d,j,k);var Ui=function(e,t,n){function r(e,i,s,o,u){var a,f,l,c,h,p;a=e._twowayBindings[i];if(a){l=a.length;while(l--){c=a[l];if(c.radioName&&!c.node.checked){continue}if(c.checkboxName){if(c.changed()&&o[i]!==true){o[i]=true;o.push(i)}continue}h=c.attr.value;p=c.value();if(t(h,p)){continue}if(!n(h,p)){s[i]=p}}}if(!u){return}f=e._depsMap[i];if(f){l=f.length;while(l--){r(e,f[l],s,o,u)}}}return function(n,i){var s,o,u;if(typeof n!=="string"){n="";i=true}r(this,n,s={},o=[],i);if(u=o.length){while(u--){n=o[u];s[n]=e(this,n)}}this.set(s)}}(S,gn,p);var zi=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x){return{add:e,animate:t,detach:n,find:r,findAll:i,findAllComponents:s,findComponent:o,fire:u,get:a,insert:f,merge:l,observe:c,off:h,on:p,render:d,renderHTML:v,reset:m,set:g,subtract:y,teardown:b,toHTML:w,toggle:E,update:S,updateModel:x}}(h,rt,it,st,vt,mt,gt,yt,wt,St,Nt,Ot,Mt,_t,Di,Pi,Hi,Bi,ji,Fi,Ii,qi,Ri,Ui);var Wi={};var Xi={linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){if((e/=.5)<1){return.5*Math.pow(e,3)}return.5*(Math.pow(e-2,3)+2)}};var Vi=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;t=Math.random()*16|0;n=e=="x"?t:t&3|8;return n.toString(16)})};var $i=function(e){var t,n,r=Array.prototype.slice.call(arguments,1);while(n=r.shift()){for(t in n){if(n.hasOwnProperty(t)){e[t]=n[t]}}}return e};var Ji=["adaptors","components","decorators","easing","events","interpolators","partials","transitions","data"];var Ki=function(){function r(e){if(e.trim){return e.trim()}return e.replace(/^\s+/,"").replace(/\s+$/,"")}function i(e){return e.str}var e=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,t=/\/\*.*?\*\//g,n=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g;return function(o,u){var a,f;f=function(e){var t,r,s,o,a,f,l,c,h=[];t=[];while(r=n.exec(e)){t.push({str:r[0],base:r[1],modifiers:r[2]})}o='[data-rvcguid="'+u+'"]';a=t.map(i);c=t.length;while(c--){l=a.slice();s=t[c];l[c]=s.base+o+s.modifiers||"";f=a.slice();f[c]=o+" "+f[c];h.push(l.join(" "),f.join(" "))}return h.join(", ")};a=o.replace(t,"").replace(e,function(e,t){var n,i;n=t.split(",").map(r);i=n.map(f).join(", ")+" ";return e.replace(t,i)});return a}}();var Qi=function(e,t,n,r){return function(i,s){e.forEach(function(e){if(s[e]){i[e]=t(s[e])}});n(i,"defaults",{value:t(s.defaults)});if(s.css){n(i,"css",{value:s.defaults.noCssTransform?s.css:r(s.css,i._guid)})}}}(Ji,Dt,a,Ki);var Gi=function(e,t){if(/_super/.test(e)){return function(){var n=this._super,r;this._super=t;r=e.apply(this,arguments);this._super=n;return r}}else{return e}};var Yi=function(e,t){var n;for(n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return e};var Zi=function(e,t,n,r,i,s){var o={};t.concat(e.keys).forEach(function(e){o[e]=true});return function(u,a){var f,l;t.forEach(function(e){var t=a[e];if(t){if(u[e]){i(u[e],t)}else{u[e]=t}}});e.keys.forEach(function(e){var t=a[e];if(t!==undefined){if(typeof t==="function"&&typeof u[e]==="function"){u.defaults[e]=r(t,u[e])}else{u.defaults[e]=a[e]}}});for(f in a){if(!o[f]&&a.hasOwnProperty(f)){l=a[f];if(typeof l==="function"&&typeof u.prototype[f]==="function"){u.prototype[f]=r(l,u.prototype[f])}else{u.prototype[f]=l}}}if(a.css){n(u,"css",{value:u.defaults.noCssTransform?a.css:s(a.css,u._guid)})}}}(r,Ji,a,Gi,Yi,Ki);var es=function(e,t){return function(n,r){if(e(n.defaults.template)){if(!n.partials){n.partials={}}t(n.partials,n.defaults.template.partials);if(r.partials){t(n.partials,r.partials)}n.defaults.template=n.defaults.template.main}}}(Z,Yi);var ts=function(e,t,n){return function(r){var i;if(typeof r.defaults.template==="string"){if(!n){throw new Error(e.missingParser)}if(r.defaults.template.charAt(0)==="#"&&t){i=document.getElementById(r.defaults.template.substring(1));if(i&&i.tagName==="SCRIPT"){r.defaults.template=n(i.innerHTML,r)}else{throw new Error("Could not find template element ("+r.defaults.template+")")}}else{r.defaults.template=n(r.defaults.template,r.defaults)}}}}(br,u,yi);var ns=function(e,t){return function(n){var r;if(n.partials){for(r in n.partials){if(n.partials.hasOwnProperty(r)&&typeof n.partials[r]==="string"){if(!t){throw new Error(e.missingParser)}n.partials[r]=t(n.partials[r],n)}}}}}(br,yi);var rs=function(){function t(t){var n="var __ractive=this;return("+t.replace(e,function(e,t){return'__ractive.get("'+t+'")'})+")";return new Function(n)}var e=/\$\{([^\}]+)\}/g;return function(e){if(typeof e==="function"){return{get:e}}if(typeof e==="string"){return{get:t(e)}}if(typeof e==="object"&&typeof e.get==="string"){e={get:t(e.get),set:e.set}}return e}}();var is=function(e,t,n){var r=function(e,n){this.root=e.ractive;this.keypath=n;this.priority=0;this.computation=e;t(this)};r.prototype={update:function(){var t;t=this.root.get(this.keypath);if(!e(t,this.value)){this.computation.bubble()}},teardown:function(){n(this)}};return r}(p,V,$);var ss=function(e,t,n,r){function s(e,t,n){var i,s,o;i=t.length;while(i--){s=t[i];if(!n[s.keypath]){t.splice(i,1);t[s.keypath]=null;s.teardown()}}i=n.length;while(i--){o=n[i];if(!t[o]){s=new r(e,o);t.push(t[o]=s)}}}var i=function(e,t,n){this.ractive=e;this.key=t;this.getter=n.get;this.setter=n.set;this.watchers=[];this.update()};i.prototype={set:function(e){if(this.setting){this.value=e;return}if(!this.setter){throw new Error("Computed properties without setters are read-only in the current version")}this.setter.call(this.ractive,e)},update:function(){var t,r,i,o;t=this.ractive;r=t._captured;if(!r){t._captured=[]}try{i=this.getter.call(t)}catch(u){if(t.debug){e('Failed to compute "'+this.key+'": '+u.message||u)}o=true}s(this,this.watchers,t._captured);t._captured=r;if(!o){this.setting=true;this.value=i;n(t,this.key,i);this.setting=false}this.deferred=false},bubble:function(){if(this.watchers.length<=1){this.update()}else if(!this.deferred){t.addComputation(this);this.deferred=true}}};return i}(Y,A,I,is);var os=function(e,t){return function(r,i){var s,o;for(s in i){o=e(i[s]);r._computations[s]=new t(r,s,o)}}}(rs,ss);var us=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){var g=["adapt","modifyArrays","magic","twoway","lazy","debug","isolated"];return function(b,w){var E,S,x,T,N,C,k;if(c(w.adaptors)){i("The `adaptors` option, to indicate which adaptors should be used with a given Ractive instance, has been deprecated in favour of `adapt`. See [TODO] for more information");w.adapt=w.adaptors;delete w.adaptors}E=b.constructor.defaults;n.keys.forEach(function(e){if(w[e]===undefined){w[e]=E[e]}});g.forEach(function(e){b[e]=w[e]});if(typeof b.adapt==="string"){b.adapt=[b.adapt]}if(b.magic&&!d){throw new Error("Getters and setters (magic mode) are not supported in this browser")}a(b,{_initing:{value:true,writable:true},_guid:{value:h()},_subs:{value:s(null),configurable:true},_cache:{value:{}},_cacheMap:{value:s(null)},_deps:{value:[]},_depsMap:{value:s(null)},_patternObservers:{value:[]},_evaluators:{value:s(null)},_computations:{value:s(null)},_twowayBindings:{value:{}},_animations:{value:[]},nodes:{value:{}},_wrapped:{value:s(null)},_liveQueries:{value:[]},_liveComponentQueries:{value:[]},_childInitQueue:{value:[]},_changes:{value:[]},_unresolvedImplicitDependencies:{value:[]}});if(w._parent&&w._component){a(b,{_parent:{value:w._parent},component:{value:w._component}});w._component.instance=b}if(w.el){b.el=f(w.el);if(!b.el&&b.debug){throw new Error("Could not find container element")}}if(w.eventDefinitions){i("ractive.eventDefinitions has been deprecated in favour of ractive.events. Support will be removed in future versions");w.events=w.eventDefinitions}r.forEach(function(e){if(b.constructor[e]){b[e]=o(s(b.constructor[e]),w[e])}else if(w[e]){b[e]=w[e]}});if(!b.data){b.data={}}k=E.computed?o(s(E.computed),w.computed):w.computed;if(k){m(b,k)}S=w.template;if(typeof S==="string"){if(!v){throw new Error(t.missingParser)}if(S.charAt(0)==="#"&&e){x=document.getElementById(S.substring(1));if(x){T=v(x.innerHTML,w)}else{throw new Error("Could not find template element ("+S+")")}}else{T=v(S,w)}}else{T=S}if(l(T)){u(b.partials,T.partials);T=T.main}if(T&&T.length===1&&typeof T[0]==="string"){T=T[0]}b.template=T;o(b.partials,w.partials);b.parseOptions={preserveWhitespace:w.preserveWhitespace,sanitize:w.sanitize,stripComments:w.stripComments};b.transitionsEnabled=w.noIntro?false:w.transitionsEnabled;if(e&&!b.el){b.el=document.createDocumentFragment()}if(b.el&&!w.append){b.el.innerHTML=""}N=new p(function(e){C=e});b.render(b.el,C);if(w.complete){N.then(w.complete.bind(b))}b.transitionsEnabled=w.transitionsEnabled;b._initing=false}}(u,br,r,Ji,Y,Dt,$i,rr,f,Et,Z,M,Vi,d,z,yi,os);var as=function(e,t,n){return function(i,s,o){e.keys.forEach(function(e){var n=o[e],r=s.defaults[e];if(typeof n==="function"&&typeof r==="function"){o[e]=t(n,r)}});if(i.beforeInit){i.beforeInit(o)}n(i,o);if(o._parent&&o._parent._rendering){o._parent._childInitQueue.push({instance:i,options:o})}else if(i.init){i.init(o)}}}(r,Gi,us);var fs=function(e,t,n,r,i,s,o,u,a,f,l){var c;l.push(function(){c=l.Ractive});return function(h){var p=this,d,v,m;if(h.prototype instanceof c){h=r({},h,h.prototype,h.defaults)}d=function(e){f(this,d,e||{})};d.prototype=e(p.prototype);d.prototype.constructor=d;t(d,{extend:{value:p.extend},_guid:{value:n()}});i(d,p);s(d,h);if(d.adaptors&&(m=d.defaults.adapt.length)){while(m--){v=d.defaults.adapt[m];if(typeof v==="string"){d.defaults.adapt[m]=d.adaptors[v]||v}}}if(h.template){u(d);o(d,h);a(d)}return d}}(Dt,f,Vi,$i,Qi,Zi,es,ts,ns,as,b);var ls=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){var d=function(e){h(this,e)};d.prototype=r;n(d,{partials:{value:i},adaptors:{value:s},easing:{value:u},transitions:{value:{}},events:{value:{}},components:{value:o},decorators:{value:{}},interpolators:{value:a},defaults:{value:e.defaults},svg:{value:t},VERSION:{value:"0.4.0"}});d.eventDefinitions=d.events;d.prototype.constructor=d;d.Promise=f;d.extend=l;d.parse=c;p.Ractive=d;return d}(r,i,f,zi,wr,D,Wi,Xi,et,d,fs,yi,us,b);var cs=function(e,t){var n="function";while(t.length){t.pop()()}if(typeof Date.now!==n||typeof String.prototype.trim!==n||typeof Object.keys!==n||typeof Array.prototype.indexOf!==n||typeof Array.prototype.forEach!==n||typeof Array.prototype.map!==n||typeof Array.prototype.filter!==n||typeof window!=="undefined"&&typeof window.addEventListener!==n){throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.")}if(typeof window!=="undefined"&&window.Node&&!window.Node.prototype.contains&&window.HTMLElement&&window.HTMLElement.prototype.contains){window.Node.prototype.contains=window.HTMLElement.prototype.contains}return e}(ls,b,n);if(typeof module!=="undefined"&&module.exports){module.exports=cs}else if(typeof define==="function"&&define.amd){define(function(){return cs})}e.Ractive=cs;cs.noConflict=function(){e.Ractive=t;return cs}})(typeof window!=="undefined"?window:this)